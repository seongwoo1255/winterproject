<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLaVA: llava.serve.gradio_web_server Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LLaVA<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespacellava_1_1serve_1_1gradio__web__server.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">llava.serve.gradio_web_server Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a051e70056bbe57dbbbf2f75acd022f04" id="r_a051e70056bbe57dbbbf2f75acd022f04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a051e70056bbe57dbbbf2f75acd022f04">get_conv_log_filename</a> ()</td></tr>
<tr class="separator:a051e70056bbe57dbbbf2f75acd022f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e04990393402eb7011f171ecb0bb724" id="r_a5e04990393402eb7011f171ecb0bb724"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e04990393402eb7011f171ecb0bb724">get_model_list</a> ()</td></tr>
<tr class="separator:a5e04990393402eb7011f171ecb0bb724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c1f6a8ca63fcaa4d2dfc938685c0b8" id="r_a93c1f6a8ca63fcaa4d2dfc938685c0b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93c1f6a8ca63fcaa4d2dfc938685c0b8">load_demo</a> (url_params, gr.Request request)</td></tr>
<tr class="separator:a93c1f6a8ca63fcaa4d2dfc938685c0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b4fa2eb00a29ebf4180b262469a30ee" id="r_a0b4fa2eb00a29ebf4180b262469a30ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b4fa2eb00a29ebf4180b262469a30ee">load_demo_refresh_model_list</a> (gr.Request request)</td></tr>
<tr class="separator:a0b4fa2eb00a29ebf4180b262469a30ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859a9f172b39a6097a21be093e3d5550" id="r_a859a9f172b39a6097a21be093e3d5550"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a859a9f172b39a6097a21be093e3d5550">vote_last_response</a> (state, vote_type, model_selector, gr.Request request)</td></tr>
<tr class="separator:a859a9f172b39a6097a21be093e3d5550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60d4ac622856c2a745cafcebfa0c958" id="r_af60d4ac622856c2a745cafcebfa0c958"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af60d4ac622856c2a745cafcebfa0c958">upvote_last_response</a> (state, model_selector, gr.Request request)</td></tr>
<tr class="separator:af60d4ac622856c2a745cafcebfa0c958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120e078ca589adb9f75d5c72418547df" id="r_a120e078ca589adb9f75d5c72418547df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a120e078ca589adb9f75d5c72418547df">downvote_last_response</a> (state, model_selector, gr.Request request)</td></tr>
<tr class="separator:a120e078ca589adb9f75d5c72418547df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96933ad11b1e741cb77700cefbf35ce" id="r_ae96933ad11b1e741cb77700cefbf35ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae96933ad11b1e741cb77700cefbf35ce">flag_last_response</a> (state, model_selector, gr.Request request)</td></tr>
<tr class="separator:ae96933ad11b1e741cb77700cefbf35ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a95c3ad99d8e4971a5a424f02ada04e" id="r_a9a95c3ad99d8e4971a5a424f02ada04e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a95c3ad99d8e4971a5a424f02ada04e">regenerate</a> (state, image_process_mode, gr.Request request)</td></tr>
<tr class="separator:a9a95c3ad99d8e4971a5a424f02ada04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd7c3becaa3399ca6a0d236b483e30f" id="r_a3fd7c3becaa3399ca6a0d236b483e30f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3fd7c3becaa3399ca6a0d236b483e30f">clear_history</a> (gr.Request request)</td></tr>
<tr class="separator:a3fd7c3becaa3399ca6a0d236b483e30f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaad5c2bd719b4550756bbe7255e4a7f" id="r_aeaad5c2bd719b4550756bbe7255e4a7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeaad5c2bd719b4550756bbe7255e4a7f">add_text</a> (state, text, image, image_process_mode, gr.Request request)</td></tr>
<tr class="separator:aeaad5c2bd719b4550756bbe7255e4a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1307d1516461919ebc5484d362f5d1af" id="r_a1307d1516461919ebc5484d362f5d1af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1307d1516461919ebc5484d362f5d1af">http_bot</a> (state, model_selector, temperature, top_p, max_new_tokens, gr.Request request)</td></tr>
<tr class="separator:a1307d1516461919ebc5484d362f5d1af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fc5afb330fad6a1ab146ab4f0f49a8" id="r_a79fc5afb330fad6a1ab146ab4f0f49a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79fc5afb330fad6a1ab146ab4f0f49a8">build_demo</a> (embed_mode, cur_dir=None, concurrency_count=10)</td></tr>
<tr class="separator:a79fc5afb330fad6a1ab146ab4f0f49a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af31b75562f23477c6c980c12623c474d" id="r_af31b75562f23477c6c980c12623c474d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af31b75562f23477c6c980c12623c474d">logger</a> = build_logger(&quot;gradio_web_server&quot;, &quot;gradio_web_server.log&quot;)</td></tr>
<tr class="separator:af31b75562f23477c6c980c12623c474d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab716f16be1a211ec76f589925510da65" id="r_ab716f16be1a211ec76f589925510da65"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab716f16be1a211ec76f589925510da65">headers</a> = {&quot;User-Agent&quot;: &quot;LLaVA Client&quot;}</td></tr>
<tr class="separator:ab716f16be1a211ec76f589925510da65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87eaffb357945265286b11af0f1b90de" id="r_a87eaffb357945265286b11af0f1b90de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87eaffb357945265286b11af0f1b90de">no_change_btn</a> = gr.Button()</td></tr>
<tr class="separator:a87eaffb357945265286b11af0f1b90de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe7fd8d42f54aeacf5777334776a1c94" id="r_afe7fd8d42f54aeacf5777334776a1c94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe7fd8d42f54aeacf5777334776a1c94">enable_btn</a> = gr.Button(interactive=True)</td></tr>
<tr class="separator:afe7fd8d42f54aeacf5777334776a1c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab18d901f12f99cc3edfd52f99bb90923" id="r_ab18d901f12f99cc3edfd52f99bb90923"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab18d901f12f99cc3edfd52f99bb90923">disable_btn</a> = gr.Button(interactive=False)</td></tr>
<tr class="separator:ab18d901f12f99cc3edfd52f99bb90923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961deb3d57ee7711f2d697f8c4f23834" id="r_a961deb3d57ee7711f2d697f8c4f23834"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a961deb3d57ee7711f2d697f8c4f23834">priority</a></td></tr>
<tr class="separator:a961deb3d57ee7711f2d697f8c4f23834"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1159aa4489f298ab5a5ce6828727968b" id="r_a1159aa4489f298ab5a5ce6828727968b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a9f192e4649eb182c4d65ab1f661446a8">str</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1159aa4489f298ab5a5ce6828727968b">get_window_url_params</a></td></tr>
<tr class="separator:a1159aa4489f298ab5a5ce6828727968b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36484a74530d106a5263373898b8f05" id="r_aa36484a74530d106a5263373898b8f05"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa36484a74530d106a5263373898b8f05">title_markdown</a> = ()</td></tr>
<tr class="separator:aa36484a74530d106a5263373898b8f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa572665932e372d830a39599f368c78d" id="r_aa572665932e372d830a39599f368c78d"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa572665932e372d830a39599f368c78d">tos_markdown</a> = ()</td></tr>
<tr class="separator:aa572665932e372d830a39599f368c78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b0a5e7c540efa14afb6455efc8f802" id="r_ad7b0a5e7c540efa14afb6455efc8f802"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7b0a5e7c540efa14afb6455efc8f802">learn_more_markdown</a> = ()</td></tr>
<tr class="separator:ad7b0a5e7c540efa14afb6455efc8f802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d2d67d98d6574d28b052d5e505dab5" id="r_af5d2d67d98d6574d28b052d5e505dab5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a9f192e4649eb182c4d65ab1f661446a8">str</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5d2d67d98d6574d28b052d5e505dab5">block_css</a></td></tr>
<tr class="separator:af5d2d67d98d6574d28b052d5e505dab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c91c1422c26a5245d253aa0d8edc56a" id="r_a9c91c1422c26a5245d253aa0d8edc56a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c91c1422c26a5245d253aa0d8edc56a">parser</a> = argparse.ArgumentParser()</td></tr>
<tr class="separator:a9c91c1422c26a5245d253aa0d8edc56a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ce837216d8fab7c8979ec3851a5a8d" id="r_a52ce837216d8fab7c8979ec3851a5a8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52ce837216d8fab7c8979ec3851a5a8d">type</a></td></tr>
<tr class="separator:a52ce837216d8fab7c8979ec3851a5a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f192e4649eb182c4d65ab1f661446a8" id="r_a9f192e4649eb182c4d65ab1f661446a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f192e4649eb182c4d65ab1f661446a8">str</a></td></tr>
<tr class="separator:a9f192e4649eb182c4d65ab1f661446a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f7a2fec5a700b4aad72f9141a499fd7" id="r_a0f7a2fec5a700b4aad72f9141a499fd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f7a2fec5a700b4aad72f9141a499fd7">default</a></td></tr>
<tr class="separator:a0f7a2fec5a700b4aad72f9141a499fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde3614dee937bc94d6b638414bceba0" id="r_adde3614dee937bc94d6b638414bceba0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adde3614dee937bc94d6b638414bceba0">int</a></td></tr>
<tr class="separator:adde3614dee937bc94d6b638414bceba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbcd2eda18b93926f2c0e38c02876ea3" id="r_abbcd2eda18b93926f2c0e38c02876ea3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abbcd2eda18b93926f2c0e38c02876ea3">choices</a></td></tr>
<tr class="separator:abbcd2eda18b93926f2c0e38c02876ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a588fed3fe7932e1e382027de6e9cdd5d" id="r_a588fed3fe7932e1e382027de6e9cdd5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a588fed3fe7932e1e382027de6e9cdd5d">action</a></td></tr>
<tr class="separator:a588fed3fe7932e1e382027de6e9cdd5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265d702a87d43f95259de3334227a58a" id="r_a265d702a87d43f95259de3334227a58a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a265d702a87d43f95259de3334227a58a">args</a> = parser.parse_args()</td></tr>
<tr class="separator:a265d702a87d43f95259de3334227a58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470ecbce5e7dbf9fc1c4826d347f9b3d" id="r_a470ecbce5e7dbf9fc1c4826d347f9b3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a470ecbce5e7dbf9fc1c4826d347f9b3d">models</a> = <a class="el" href="#a5e04990393402eb7011f171ecb0bb724">get_model_list</a>()</td></tr>
<tr class="separator:a470ecbce5e7dbf9fc1c4826d347f9b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e82d3c5944dad0646403ad184e7af4c" id="r_a4e82d3c5944dad0646403ad184e7af4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e82d3c5944dad0646403ad184e7af4c">demo</a> = <a class="el" href="#a79fc5afb330fad6a1ab146ab4f0f49a8">build_demo</a>(args.embed, concurrency_count=args.concurrency_count)</td></tr>
<tr class="separator:a4e82d3c5944dad0646403ad184e7af4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eda9791b947aae9179d672da69fcdd9" id="r_a5eda9791b947aae9179d672da69fcdd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5eda9791b947aae9179d672da69fcdd9">api_open</a></td></tr>
<tr class="separator:a5eda9791b947aae9179d672da69fcdd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86e203e3c17743e8c79110b733190fb" id="r_ad86e203e3c17743e8c79110b733190fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad86e203e3c17743e8c79110b733190fb">server_name</a></td></tr>
<tr class="separator:ad86e203e3c17743e8c79110b733190fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195508182f18d54d86316c2609c7b435" id="r_a195508182f18d54d86316c2609c7b435"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a195508182f18d54d86316c2609c7b435">server_port</a></td></tr>
<tr class="separator:a195508182f18d54d86316c2609c7b435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe2f7521c420f275c15fd46b09c05633" id="r_abe2f7521c420f275c15fd46b09c05633"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe2f7521c420f275c15fd46b09c05633">share</a></td></tr>
<tr class="separator:abe2f7521c420f275c15fd46b09c05633"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aeaad5c2bd719b4550756bbe7255e4a7f" name="aeaad5c2bd719b4550756bbe7255e4a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaad5c2bd719b4550756bbe7255e4a7f">&#9670;&#160;</a></span>add_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.add_text </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>text</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>image_process_mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00128">128</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  128</span><span class="keyword">def </span>add_text(state, text, image, image_process_mode, request: gr.Request):</div>
<div class="line"><span class="lineno">  129</span>    logger.info(f<span class="stringliteral">&quot;add_text. ip: {request.client.host}. len: {len(text)}&quot;</span>)</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">if</span> len(text) &lt;= 0 <span class="keywordflow">and</span> image <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  131</span>        state.skip_next = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  132</span>        <span class="keywordflow">return</span> (state, state.to_gradio_chatbot(), <span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">None</span>) + (no_change_btn,) * 5</div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">if</span> args.moderate:</div>
<div class="line"><span class="lineno">  134</span>        flagged = violates_moderation(text)</div>
<div class="line"><span class="lineno">  135</span>        <span class="keywordflow">if</span> flagged:</div>
<div class="line"><span class="lineno">  136</span>            state.skip_next = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  137</span>            <span class="keywordflow">return</span> (state, state.to_gradio_chatbot(), moderation_msg, <span class="keywordtype">None</span>) + (</div>
<div class="line"><span class="lineno">  138</span>                no_change_btn,) * 5</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    text = text[:1536]  <span class="comment"># Hard cut-off</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">if</span> image <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  142</span>        text = text[:1200]  <span class="comment"># Hard cut-off for images</span></div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;&lt;image&gt;&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> text:</div>
<div class="line"><span class="lineno">  144</span>            <span class="comment"># text = &#39;&lt;Image&gt;&lt;image&gt;&lt;/Image&gt;&#39; + text</span></div>
<div class="line"><span class="lineno">  145</span>            text = text + <span class="stringliteral">&#39;\n&lt;image&gt;&#39;</span></div>
<div class="line"><span class="lineno">  146</span>        text = (text, image, image_process_mode)</div>
<div class="line"><span class="lineno">  147</span>        state = default_conversation.copy()</div>
<div class="line"><span class="lineno">  148</span>    state.append_message(state.roles[0], text)</div>
<div class="line"><span class="lineno">  149</span>    state.append_message(state.roles[1], <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  150</span>    state.skip_next = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordflow">return</span> (state, state.to_gradio_chatbot(), <span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">None</span>) + (disable_btn,) * 5</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a79fc5afb330fad6a1ab146ab4f0f49a8" name="a79fc5afb330fad6a1ab146ab4f0f49a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79fc5afb330fad6a1ab146ab4f0f49a8">&#9670;&#160;</a></span>build_demo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.build_demo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>embed_mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cur_dir</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>concurrency_count</em></span><span class="paramdefsep"> = </span><span class="paramdefval">10</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00315">315</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  315</span><span class="keyword">def </span>build_demo(embed_mode, cur_dir=None, concurrency_count=10):</div>
<div class="line"><span class="lineno">  316</span>    textbox = gr.Textbox(show_label=<span class="keyword">False</span>, placeholder=<span class="stringliteral">&quot;Enter text and press ENTER&quot;</span>, container=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  317</span>    <span class="keyword">with</span> gr.Blocks(title=<span class="stringliteral">&quot;LLaVA&quot;</span>, theme=gr.themes.Default(), css=block_css) <span class="keyword">as</span> demo:</div>
<div class="line"><span class="lineno">  318</span>        state = gr.State()</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> embed_mode:</div>
<div class="line"><span class="lineno">  321</span>            gr.Markdown(title_markdown)</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>        <span class="keyword">with</span> gr.Row():</div>
<div class="line"><span class="lineno">  324</span>            <span class="keyword">with</span> gr.Column(scale=3):</div>
<div class="line"><span class="lineno">  325</span>                <span class="keyword">with</span> gr.Row(elem_id=<span class="stringliteral">&quot;model_selector_row&quot;</span>):</div>
<div class="line"><span class="lineno">  326</span>                    model_selector = gr.Dropdown(</div>
<div class="line"><span class="lineno">  327</span>                        choices=models,</div>
<div class="line"><span class="lineno">  328</span>                        value=models[0] <span class="keywordflow">if</span> len(models) &gt; 0 <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">  329</span>                        interactive=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  330</span>                        show_label=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  331</span>                        container=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>                imagebox = gr.Image(type=<span class="stringliteral">&quot;pil&quot;</span>)</div>
<div class="line"><span class="lineno">  334</span>                image_process_mode = gr.Radio(</div>
<div class="line"><span class="lineno">  335</span>                    [<span class="stringliteral">&quot;Crop&quot;</span>, <span class="stringliteral">&quot;Resize&quot;</span>, <span class="stringliteral">&quot;Pad&quot;</span>, <span class="stringliteral">&quot;Default&quot;</span>],</div>
<div class="line"><span class="lineno">  336</span>                    value=<span class="stringliteral">&quot;Default&quot;</span>,</div>
<div class="line"><span class="lineno">  337</span>                    label=<span class="stringliteral">&quot;Preprocess for non-square image&quot;</span>, visible=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>                <span class="keywordflow">if</span> cur_dir <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  340</span>                    cur_dir = os.path.dirname(os.path.abspath(__file__))</div>
<div class="line"><span class="lineno">  341</span>                gr.Examples(examples=[</div>
<div class="line"><span class="lineno">  342</span>                    [f<span class="stringliteral">&quot;{cur_dir}/examples/extreme_ironing.jpg&quot;</span>, <span class="stringliteral">&quot;What is unusual about this image?&quot;</span>],</div>
<div class="line"><span class="lineno">  343</span>                    [f<span class="stringliteral">&quot;{cur_dir}/examples/waterview.jpg&quot;</span>, <span class="stringliteral">&quot;What are the things I should be cautious about when I visit here?&quot;</span>],</div>
<div class="line"><span class="lineno">  344</span>                ], inputs=[imagebox, textbox])</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>                <span class="keyword">with</span> gr.Accordion(<span class="stringliteral">&quot;Parameters&quot;</span>, open=<span class="keyword">False</span>) <span class="keyword">as</span> parameter_row:</div>
<div class="line"><span class="lineno">  347</span>                    temperature = gr.Slider(minimum=0.0, maximum=1.0, value=0.2, step=0.1, interactive=<span class="keyword">True</span>, label=<span class="stringliteral">&quot;Temperature&quot;</span>,)</div>
<div class="line"><span class="lineno">  348</span>                    top_p = gr.Slider(minimum=0.0, maximum=1.0, value=0.7, step=0.1, interactive=<span class="keyword">True</span>, label=<span class="stringliteral">&quot;Top P&quot;</span>,)</div>
<div class="line"><span class="lineno">  349</span>                    max_output_tokens = gr.Slider(minimum=0, maximum=1024, value=512, step=64, interactive=<span class="keyword">True</span>, label=<span class="stringliteral">&quot;Max output tokens&quot;</span>,)</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>            <span class="keyword">with</span> gr.Column(scale=8):</div>
<div class="line"><span class="lineno">  352</span>                chatbot = gr.Chatbot(</div>
<div class="line"><span class="lineno">  353</span>                    elem_id=<span class="stringliteral">&quot;chatbot&quot;</span>,</div>
<div class="line"><span class="lineno">  354</span>                    label=<span class="stringliteral">&quot;LLaVA Chatbot&quot;</span>,</div>
<div class="line"><span class="lineno">  355</span>                    height=650,</div>
<div class="line"><span class="lineno">  356</span>                    layout=<span class="stringliteral">&quot;panel&quot;</span>,</div>
<div class="line"><span class="lineno">  357</span>                )</div>
<div class="line"><span class="lineno">  358</span>                <span class="keyword">with</span> gr.Row():</div>
<div class="line"><span class="lineno">  359</span>                    <span class="keyword">with</span> gr.Column(scale=8):</div>
<div class="line"><span class="lineno">  360</span>                        textbox.render()</div>
<div class="line"><span class="lineno">  361</span>                    <span class="keyword">with</span> gr.Column(scale=1, min_width=50):</div>
<div class="line"><span class="lineno">  362</span>                        submit_btn = gr.Button(value=<span class="stringliteral">&quot;Send&quot;</span>, variant=<span class="stringliteral">&quot;primary&quot;</span>)</div>
<div class="line"><span class="lineno">  363</span>                <span class="keyword">with</span> gr.Row(elem_id=<span class="stringliteral">&quot;buttons&quot;</span>) <span class="keyword">as</span> button_row:</div>
<div class="line"><span class="lineno">  364</span>                    upvote_btn = gr.Button(value=<span class="stringliteral">&quot;👍  Upvote&quot;</span>, interactive=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  365</span>                    downvote_btn = gr.Button(value=<span class="stringliteral">&quot;👎  Downvote&quot;</span>, interactive=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  366</span>                    flag_btn = gr.Button(value=<span class="stringliteral">&quot;⚠️  Flag&quot;</span>, interactive=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  367</span>                    <span class="comment">#stop_btn = gr.Button(value=&quot;⏹️  Stop Generation&quot;, interactive=False)</span></div>
<div class="line"><span class="lineno">  368</span>                    regenerate_btn = gr.Button(value=<span class="stringliteral">&quot;🔄  Regenerate&quot;</span>, interactive=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  369</span>                    clear_btn = gr.Button(value=<span class="stringliteral">&quot;🗑️  Clear&quot;</span>, interactive=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> embed_mode:</div>
<div class="line"><span class="lineno">  372</span>            gr.Markdown(tos_markdown)</div>
<div class="line"><span class="lineno">  373</span>            gr.Markdown(learn_more_markdown)</div>
<div class="line"><span class="lineno">  374</span>        url_params = gr.JSON(visible=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>        <span class="comment"># Register listeners</span></div>
<div class="line"><span class="lineno">  377</span>        btn_list = [upvote_btn, downvote_btn, flag_btn, regenerate_btn, clear_btn]</div>
<div class="line"><span class="lineno">  378</span>        upvote_btn.click(</div>
<div class="line"><span class="lineno">  379</span>            upvote_last_response,</div>
<div class="line"><span class="lineno">  380</span>            [state, model_selector],</div>
<div class="line"><span class="lineno">  381</span>            [textbox, upvote_btn, downvote_btn, flag_btn]</div>
<div class="line"><span class="lineno">  382</span>        )</div>
<div class="line"><span class="lineno">  383</span>        downvote_btn.click(</div>
<div class="line"><span class="lineno">  384</span>            downvote_last_response,</div>
<div class="line"><span class="lineno">  385</span>            [state, model_selector],</div>
<div class="line"><span class="lineno">  386</span>            [textbox, upvote_btn, downvote_btn, flag_btn]</div>
<div class="line"><span class="lineno">  387</span>        )</div>
<div class="line"><span class="lineno">  388</span>        flag_btn.click(</div>
<div class="line"><span class="lineno">  389</span>            flag_last_response,</div>
<div class="line"><span class="lineno">  390</span>            [state, model_selector],</div>
<div class="line"><span class="lineno">  391</span>            [textbox, upvote_btn, downvote_btn, flag_btn]</div>
<div class="line"><span class="lineno">  392</span>        )</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>        regenerate_btn.click(</div>
<div class="line"><span class="lineno">  395</span>            regenerate,</div>
<div class="line"><span class="lineno">  396</span>            [state, image_process_mode],</div>
<div class="line"><span class="lineno">  397</span>            [state, chatbot, textbox, imagebox] + btn_list</div>
<div class="line"><span class="lineno">  398</span>        ).then(</div>
<div class="line"><span class="lineno">  399</span>            http_bot,</div>
<div class="line"><span class="lineno">  400</span>            [state, model_selector, temperature, top_p, max_output_tokens],</div>
<div class="line"><span class="lineno">  401</span>            [state, chatbot] + btn_list,</div>
<div class="line"><span class="lineno">  402</span>            concurrency_limit=concurrency_count</div>
<div class="line"><span class="lineno">  403</span>        )</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>        clear_btn.click(</div>
<div class="line"><span class="lineno">  406</span>            clear_history,</div>
<div class="line"><span class="lineno">  407</span>            <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  408</span>            [state, chatbot, textbox, imagebox] + btn_list,</div>
<div class="line"><span class="lineno">  409</span>            queue=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  410</span>        )</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>        textbox.submit(</div>
<div class="line"><span class="lineno">  413</span>            add_text,</div>
<div class="line"><span class="lineno">  414</span>            [state, textbox, imagebox, image_process_mode],</div>
<div class="line"><span class="lineno">  415</span>            [state, chatbot, textbox, imagebox] + btn_list,</div>
<div class="line"><span class="lineno">  416</span>            queue=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  417</span>        ).then(</div>
<div class="line"><span class="lineno">  418</span>            http_bot,</div>
<div class="line"><span class="lineno">  419</span>            [state, model_selector, temperature, top_p, max_output_tokens],</div>
<div class="line"><span class="lineno">  420</span>            [state, chatbot] + btn_list,</div>
<div class="line"><span class="lineno">  421</span>            concurrency_limit=concurrency_count</div>
<div class="line"><span class="lineno">  422</span>        )</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>        submit_btn.click(</div>
<div class="line"><span class="lineno">  425</span>            add_text,</div>
<div class="line"><span class="lineno">  426</span>            [state, textbox, imagebox, image_process_mode],</div>
<div class="line"><span class="lineno">  427</span>            [state, chatbot, textbox, imagebox] + btn_list</div>
<div class="line"><span class="lineno">  428</span>        ).then(</div>
<div class="line"><span class="lineno">  429</span>            http_bot,</div>
<div class="line"><span class="lineno">  430</span>            [state, model_selector, temperature, top_p, max_output_tokens],</div>
<div class="line"><span class="lineno">  431</span>            [state, chatbot] + btn_list,</div>
<div class="line"><span class="lineno">  432</span>            concurrency_limit=concurrency_count</div>
<div class="line"><span class="lineno">  433</span>        )</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>        <span class="keywordflow">if</span> args.model_list_mode == <span class="stringliteral">&quot;once&quot;</span>:</div>
<div class="line"><span class="lineno">  436</span>            demo.load(</div>
<div class="line"><span class="lineno">  437</span>                load_demo,</div>
<div class="line"><span class="lineno">  438</span>                [url_params],</div>
<div class="line"><span class="lineno">  439</span>                [state, model_selector],</div>
<div class="line"><span class="lineno">  440</span>                js=get_window_url_params</div>
<div class="line"><span class="lineno">  441</span>            )</div>
<div class="line"><span class="lineno">  442</span>        <span class="keywordflow">elif</span> args.model_list_mode == <span class="stringliteral">&quot;reload&quot;</span>:</div>
<div class="line"><span class="lineno">  443</span>            demo.load(</div>
<div class="line"><span class="lineno">  444</span>                load_demo_refresh_model_list,</div>
<div class="line"><span class="lineno">  445</span>                <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  446</span>                [state, model_selector],</div>
<div class="line"><span class="lineno">  447</span>                queue=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  448</span>            )</div>
<div class="line"><span class="lineno">  449</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  450</span>            <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Unknown model list mode: {args.model_list_mode}&quot;</span>)</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>    <span class="keywordflow">return</span> demo</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fd7c3becaa3399ca6a0d236b483e30f" name="a3fd7c3becaa3399ca6a0d236b483e30f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd7c3becaa3399ca6a0d236b483e30f">&#9670;&#160;</a></span>clear_history()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.clear_history </td>
          <td>(</td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00122">122</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span><span class="keyword">def </span>clear_history(request: gr.Request):</div>
<div class="line"><span class="lineno">  123</span>    logger.info(f<span class="stringliteral">&quot;clear_history. ip: {request.client.host}&quot;</span>)</div>
<div class="line"><span class="lineno">  124</span>    state = default_conversation.copy()</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">return</span> (state, state.to_gradio_chatbot(), <span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">None</span>) + (disable_btn,) * 5</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a120e078ca589adb9f75d5c72418547df" name="a120e078ca589adb9f75d5c72418547df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a120e078ca589adb9f75d5c72418547df">&#9670;&#160;</a></span>downvote_last_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.downvote_last_response </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>model_selector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00100">100</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  100</span><span class="keyword">def </span>downvote_last_response(state, model_selector, request: gr.Request):</div>
<div class="line"><span class="lineno">  101</span>    logger.info(f<span class="stringliteral">&quot;downvote. ip: {request.client.host}&quot;</span>)</div>
<div class="line"><span class="lineno">  102</span>    vote_last_response(state, <span class="stringliteral">&quot;downvote&quot;</span>, model_selector, request)</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">return</span> (<span class="stringliteral">&quot;&quot;</span>,) + (disable_btn,) * 3</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacellava_1_1serve_1_1gradio__web__server_a120e078ca589adb9f75d5c72418547df_cgraph.png" border="0" usemap="#anamespacellava_1_1serve_1_1gradio__web__server_a120e078ca589adb9f75d5c72418547df_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ae96933ad11b1e741cb77700cefbf35ce" name="ae96933ad11b1e741cb77700cefbf35ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96933ad11b1e741cb77700cefbf35ce">&#9670;&#160;</a></span>flag_last_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.flag_last_response </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>model_selector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00106">106</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  106</span><span class="keyword">def </span>flag_last_response(state, model_selector, request: gr.Request):</div>
<div class="line"><span class="lineno">  107</span>    logger.info(f<span class="stringliteral">&quot;flag. ip: {request.client.host}&quot;</span>)</div>
<div class="line"><span class="lineno">  108</span>    vote_last_response(state, <span class="stringliteral">&quot;flag&quot;</span>, model_selector, request)</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">return</span> (<span class="stringliteral">&quot;&quot;</span>,) + (disable_btn,) * 3</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacellava_1_1serve_1_1gradio__web__server_ae96933ad11b1e741cb77700cefbf35ce_cgraph.png" border="0" usemap="#anamespacellava_1_1serve_1_1gradio__web__server_ae96933ad11b1e741cb77700cefbf35ce_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a051e70056bbe57dbbbf2f75acd022f04" name="a051e70056bbe57dbbbf2f75acd022f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a051e70056bbe57dbbbf2f75acd022f04">&#9670;&#160;</a></span>get_conv_log_filename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.get_conv_log_filename </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00032">32</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   32</span><span class="keyword">def </span>get_conv_log_filename():</div>
<div class="line"><span class="lineno">   33</span>    t = datetime.datetime.now()</div>
<div class="line"><span class="lineno">   34</span>    name = os.path.join(LOGDIR, f<span class="stringliteral">&quot;{t.year}-{t.month:02d}-{t.day:02d}-conv.json&quot;</span>)</div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordflow">return</span> name</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacellava_1_1serve_1_1gradio__web__server_a051e70056bbe57dbbbf2f75acd022f04_icgraph.png" border="0" usemap="#anamespacellava_1_1serve_1_1gradio__web__server_a051e70056bbe57dbbbf2f75acd022f04_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a5e04990393402eb7011f171ecb0bb724" name="a5e04990393402eb7011f171ecb0bb724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e04990393402eb7011f171ecb0bb724">&#9670;&#160;</a></span>get_model_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.get_model_list </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00038">38</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span><span class="keyword">def </span>get_model_list():</div>
<div class="line"><span class="lineno">   39</span>    ret = requests.post(args.controller_url + <span class="stringliteral">&quot;/refresh_all_workers&quot;</span>)</div>
<div class="line"><span class="lineno">   40</span>    <span class="keyword">assert</span> ret.status_code == 200</div>
<div class="line"><span class="lineno">   41</span>    ret = requests.post(args.controller_url + <span class="stringliteral">&quot;/list_models&quot;</span>)</div>
<div class="line"><span class="lineno">   42</span>    models = ret.json()[<span class="stringliteral">&quot;models&quot;</span>]</div>
<div class="line"><span class="lineno">   43</span>    models.sort(key=<span class="keyword">lambda</span> x: priority.get(x, x))</div>
<div class="line"><span class="lineno">   44</span>    logger.info(f<span class="stringliteral">&quot;Models: {models}&quot;</span>)</div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordflow">return</span> models</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacellava_1_1serve_1_1gradio__web__server_a5e04990393402eb7011f171ecb0bb724_icgraph.png" border="0" usemap="#anamespacellava_1_1serve_1_1gradio__web__server_a5e04990393402eb7011f171ecb0bb724_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a1307d1516461919ebc5484d362f5d1af" name="a1307d1516461919ebc5484d362f5d1af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1307d1516461919ebc5484d362f5d1af">&#9670;&#160;</a></span>http_bot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.http_bot </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>model_selector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>temperature</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>top_p</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>max_new_tokens</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00154">154</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span><span class="keyword">def </span>http_bot(state, model_selector, temperature, top_p, max_new_tokens, request: gr.Request):</div>
<div class="line"><span class="lineno">  155</span>    logger.info(f<span class="stringliteral">&quot;http_bot. ip: {request.client.host}&quot;</span>)</div>
<div class="line"><span class="lineno">  156</span>    start_tstamp = time.time()</div>
<div class="line"><span class="lineno">  157</span>    model_name = model_selector</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">if</span> state.skip_next:</div>
<div class="line"><span class="lineno">  160</span>        <span class="comment"># This generate call is skipped due to invalid inputs</span></div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">yield</span> (state, state.to_gradio_chatbot()) + (no_change_btn,) * 5</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">if</span> len(state.messages) == state.offset + 2:</div>
<div class="line"><span class="lineno">  165</span>        <span class="comment"># First round of conversation</span></div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;llava&quot;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">if</span> <span class="stringliteral">&#39;llama-2&#39;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  168</span>                template_name = <span class="stringliteral">&quot;llava_llama_2&quot;</span></div>
<div class="line"><span class="lineno">  169</span>            <span class="keywordflow">elif</span> <span class="stringliteral">&quot;mistral&quot;</span> <span class="keywordflow">in</span> model_name.lower() <span class="keywordflow">or</span> <span class="stringliteral">&quot;mixtral&quot;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  170</span>                <span class="keywordflow">if</span> <span class="stringliteral">&#39;orca&#39;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  171</span>                    template_name = <span class="stringliteral">&quot;mistral_orca&quot;</span></div>
<div class="line"><span class="lineno">  172</span>                <span class="keywordflow">elif</span> <span class="stringliteral">&#39;hermes&#39;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  173</span>                    template_name = <span class="stringliteral">&quot;chatml_direct&quot;</span></div>
<div class="line"><span class="lineno">  174</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  175</span>                    template_name = <span class="stringliteral">&quot;mistral_instruct&quot;</span></div>
<div class="line"><span class="lineno">  176</span>            <span class="keywordflow">elif</span> <span class="stringliteral">&#39;llava-v1.6-34b&#39;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  177</span>                template_name = <span class="stringliteral">&quot;chatml_direct&quot;</span></div>
<div class="line"><span class="lineno">  178</span>            <span class="keywordflow">elif</span> <span class="stringliteral">&quot;v1&quot;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  179</span>                <span class="keywordflow">if</span> <span class="stringliteral">&#39;mmtag&#39;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  180</span>                    template_name = <span class="stringliteral">&quot;v1_mmtag&quot;</span></div>
<div class="line"><span class="lineno">  181</span>                <span class="keywordflow">elif</span> <span class="stringliteral">&#39;plain&#39;</span> <span class="keywordflow">in</span> model_name.lower() <span class="keywordflow">and</span> <span class="stringliteral">&#39;finetune&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  182</span>                    template_name = <span class="stringliteral">&quot;v1_mmtag&quot;</span></div>
<div class="line"><span class="lineno">  183</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  184</span>                    template_name = <span class="stringliteral">&quot;llava_v1&quot;</span></div>
<div class="line"><span class="lineno">  185</span>            <span class="keywordflow">elif</span> <span class="stringliteral">&quot;mpt&quot;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  186</span>                template_name = <span class="stringliteral">&quot;mpt&quot;</span></div>
<div class="line"><span class="lineno">  187</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  188</span>                <span class="keywordflow">if</span> <span class="stringliteral">&#39;mmtag&#39;</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  189</span>                    template_name = <span class="stringliteral">&quot;v0_mmtag&quot;</span></div>
<div class="line"><span class="lineno">  190</span>                <span class="keywordflow">elif</span> <span class="stringliteral">&#39;plain&#39;</span> <span class="keywordflow">in</span> model_name.lower() <span class="keywordflow">and</span> <span class="stringliteral">&#39;finetune&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> model_name.lower():</div>
<div class="line"><span class="lineno">  191</span>                    template_name = <span class="stringliteral">&quot;v0_mmtag&quot;</span></div>
<div class="line"><span class="lineno">  192</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  193</span>                    template_name = <span class="stringliteral">&quot;llava_v0&quot;</span></div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">elif</span> <span class="stringliteral">&quot;mpt&quot;</span> <span class="keywordflow">in</span> model_name:</div>
<div class="line"><span class="lineno">  195</span>            template_name = <span class="stringliteral">&quot;mpt_text&quot;</span></div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">elif</span> <span class="stringliteral">&quot;llama-2&quot;</span> <span class="keywordflow">in</span> model_name:</div>
<div class="line"><span class="lineno">  197</span>            template_name = <span class="stringliteral">&quot;llama_2&quot;</span></div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  199</span>            template_name = <span class="stringliteral">&quot;vicuna_v1&quot;</span></div>
<div class="line"><span class="lineno">  200</span>        new_state = conv_templates[template_name].copy()</div>
<div class="line"><span class="lineno">  201</span>        new_state.append_message(new_state.roles[0], state.messages[-2][1])</div>
<div class="line"><span class="lineno">  202</span>        new_state.append_message(new_state.roles[1], <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  203</span>        state = new_state</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="comment"># Query worker address</span></div>
<div class="line"><span class="lineno">  206</span>    controller_url = args.controller_url</div>
<div class="line"><span class="lineno">  207</span>    ret = requests.post(controller_url + <span class="stringliteral">&quot;/get_worker_address&quot;</span>,</div>
<div class="line"><span class="lineno">  208</span>            json={<span class="stringliteral">&quot;model&quot;</span>: model_name})</div>
<div class="line"><span class="lineno">  209</span>    worker_addr = ret.json()[<span class="stringliteral">&quot;address&quot;</span>]</div>
<div class="line"><span class="lineno">  210</span>    logger.info(f<span class="stringliteral">&quot;model_name: {model_name}, worker_addr: {worker_addr}&quot;</span>)</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    <span class="comment"># No available worker</span></div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">if</span> worker_addr == <span class="stringliteral">&quot;&quot;</span>:</div>
<div class="line"><span class="lineno">  214</span>        state.messages[-1][-1] = server_error_msg</div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">yield</span> (state, state.to_gradio_chatbot(), disable_btn, disable_btn, disable_btn, enable_btn, enable_btn)</div>
<div class="line"><span class="lineno">  216</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>    <span class="comment"># Construct prompt</span></div>
<div class="line"><span class="lineno">  219</span>    prompt = state.get_prompt()</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    all_images = state.get_images(return_pil=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  222</span>    all_image_hash = [hashlib.md5(image.tobytes()).hexdigest() <span class="keywordflow">for</span> image <span class="keywordflow">in</span> all_images]</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">for</span> image, hash <span class="keywordflow">in</span> zip(all_images, all_image_hash):</div>
<div class="line"><span class="lineno">  224</span>        t = datetime.datetime.now()</div>
<div class="line"><span class="lineno">  225</span>        filename = os.path.join(LOGDIR, <span class="stringliteral">&quot;serve_images&quot;</span>, f<span class="stringliteral">&quot;{t.year}-{t.month:02d}-{t.day:02d}&quot;</span>, f<span class="stringliteral">&quot;{hash}.jpg&quot;</span>)</div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isfile(filename):</div>
<div class="line"><span class="lineno">  227</span>            os.makedirs(os.path.dirname(filename), exist_ok=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  228</span>            image.save(filename)</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>    <span class="comment"># Make requests</span></div>
<div class="line"><span class="lineno">  231</span>    pload = {</div>
<div class="line"><span class="lineno">  232</span>        <span class="stringliteral">&quot;model&quot;</span>: model_name,</div>
<div class="line"><span class="lineno">  233</span>        <span class="stringliteral">&quot;prompt&quot;</span>: prompt,</div>
<div class="line"><span class="lineno">  234</span>        <span class="stringliteral">&quot;temperature&quot;</span>: float(temperature),</div>
<div class="line"><span class="lineno">  235</span>        <span class="stringliteral">&quot;top_p&quot;</span>: float(top_p),</div>
<div class="line"><span class="lineno">  236</span>        <span class="stringliteral">&quot;max_new_tokens&quot;</span>: min(int(max_new_tokens), 1536),</div>
<div class="line"><span class="lineno">  237</span>        <span class="stringliteral">&quot;stop&quot;</span>: state.sep <span class="keywordflow">if</span> state.sep_style <span class="keywordflow">in</span> [SeparatorStyle.SINGLE, SeparatorStyle.MPT] <span class="keywordflow">else</span> state.sep2,</div>
<div class="line"><span class="lineno">  238</span>        <span class="stringliteral">&quot;images&quot;</span>: f<span class="stringliteral">&#39;List of {len(state.get_images())} images: {all_image_hash}&#39;</span>,</div>
<div class="line"><span class="lineno">  239</span>    }</div>
<div class="line"><span class="lineno">  240</span>    logger.info(f<span class="stringliteral">&quot;==== request ====\n{pload}&quot;</span>)</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>    pload[<span class="stringliteral">&#39;images&#39;</span>] = state.get_images()</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>    state.messages[-1][-1] = <span class="stringliteral">&quot;▌&quot;</span></div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">yield</span> (state, state.to_gradio_chatbot()) + (disable_btn,) * 5</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  248</span>        <span class="comment"># Stream output</span></div>
<div class="line"><span class="lineno">  249</span>        response = requests.post(worker_addr + <span class="stringliteral">&quot;/worker_generate_stream&quot;</span>,</div>
<div class="line"><span class="lineno">  250</span>            headers=headers, json=pload, stream=<span class="keyword">True</span>, timeout=10)</div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">for</span> chunk <span class="keywordflow">in</span> response.iter_lines(decode_unicode=<span class="keyword">False</span>, delimiter=b<span class="stringliteral">&quot;\0&quot;</span>):</div>
<div class="line"><span class="lineno">  252</span>            <span class="keywordflow">if</span> chunk:</div>
<div class="line"><span class="lineno">  253</span>                data = json.loads(chunk.decode())</div>
<div class="line"><span class="lineno">  254</span>                <span class="keywordflow">if</span> data[<span class="stringliteral">&quot;error_code&quot;</span>] == 0:</div>
<div class="line"><span class="lineno">  255</span>                    output = data[<span class="stringliteral">&quot;text&quot;</span>][len(prompt):].strip()</div>
<div class="line"><span class="lineno">  256</span>                    state.messages[-1][-1] = output + <span class="stringliteral">&quot;▌&quot;</span></div>
<div class="line"><span class="lineno">  257</span>                    <span class="keywordflow">yield</span> (state, state.to_gradio_chatbot()) + (disable_btn,) * 5</div>
<div class="line"><span class="lineno">  258</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  259</span>                    output = data[<span class="stringliteral">&quot;text&quot;</span>] + f<span class="stringliteral">&quot; (error_code: {data[&#39;error_code&#39;]})&quot;</span></div>
<div class="line"><span class="lineno">  260</span>                    state.messages[-1][-1] = output</div>
<div class="line"><span class="lineno">  261</span>                    <span class="keywordflow">yield</span> (state, state.to_gradio_chatbot()) + (disable_btn, disable_btn, disable_btn, enable_btn, enable_btn)</div>
<div class="line"><span class="lineno">  262</span>                    <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  263</span>                time.sleep(0.03)</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">except</span> requests.exceptions.RequestException <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  265</span>        state.messages[-1][-1] = server_error_msg</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">yield</span> (state, state.to_gradio_chatbot()) + (disable_btn, disable_btn, disable_btn, enable_btn, enable_btn)</div>
<div class="line"><span class="lineno">  267</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>    state.messages[-1][-1] = state.messages[-1][-1][:-1]</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">yield</span> (state, state.to_gradio_chatbot()) + (enable_btn,) * 5</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    finish_tstamp = time.time()</div>
<div class="line"><span class="lineno">  273</span>    logger.info(f<span class="stringliteral">&quot;{output}&quot;</span>)</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>    <span class="keyword">with</span> open(get_conv_log_filename(), <span class="stringliteral">&quot;a&quot;</span>) <span class="keyword">as</span> fout:</div>
<div class="line"><span class="lineno">  276</span>        data = {</div>
<div class="line"><span class="lineno">  277</span>            <span class="stringliteral">&quot;tstamp&quot;</span>: round(finish_tstamp, 4),</div>
<div class="line"><span class="lineno">  278</span>            <span class="stringliteral">&quot;type&quot;</span>: <span class="stringliteral">&quot;chat&quot;</span>,</div>
<div class="line"><span class="lineno">  279</span>            <span class="stringliteral">&quot;model&quot;</span>: model_name,</div>
<div class="line"><span class="lineno">  280</span>            <span class="stringliteral">&quot;start&quot;</span>: round(start_tstamp, 4),</div>
<div class="line"><span class="lineno">  281</span>            <span class="stringliteral">&quot;finish&quot;</span>: round(finish_tstamp, 4),</div>
<div class="line"><span class="lineno">  282</span>            <span class="stringliteral">&quot;state&quot;</span>: state.dict(),</div>
<div class="line"><span class="lineno">  283</span>            <span class="stringliteral">&quot;images&quot;</span>: all_image_hash,</div>
<div class="line"><span class="lineno">  284</span>            <span class="stringliteral">&quot;ip&quot;</span>: request.client.host,</div>
<div class="line"><span class="lineno">  285</span>        }</div>
<div class="line"><span class="lineno">  286</span>        fout.write(json.dumps(data) + <span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  287</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacellava_1_1serve_1_1gradio__web__server_a1307d1516461919ebc5484d362f5d1af_cgraph.png" border="0" usemap="#anamespacellava_1_1serve_1_1gradio__web__server_a1307d1516461919ebc5484d362f5d1af_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a93c1f6a8ca63fcaa4d2dfc938685c0b8" name="a93c1f6a8ca63fcaa4d2dfc938685c0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c1f6a8ca63fcaa4d2dfc938685c0b8">&#9670;&#160;</a></span>load_demo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.load_demo </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>url_params</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00058">58</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span><span class="keyword">def </span>load_demo(url_params, request: gr.Request):</div>
<div class="line"><span class="lineno">   59</span>    logger.info(f<span class="stringliteral">&quot;load_demo. ip: {request.client.host}. params: {url_params}&quot;</span>)</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>    dropdown_update = gr.Dropdown(visible=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">if</span> <span class="stringliteral">&quot;model&quot;</span> <span class="keywordflow">in</span> url_params:</div>
<div class="line"><span class="lineno">   63</span>        model = url_params[<span class="stringliteral">&quot;model&quot;</span>]</div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">if</span> model <span class="keywordflow">in</span> models:</div>
<div class="line"><span class="lineno">   65</span>            dropdown_update = gr.Dropdown(value=model, visible=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    state = default_conversation.copy()</div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">return</span> state, dropdown_update</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b4fa2eb00a29ebf4180b262469a30ee" name="a0b4fa2eb00a29ebf4180b262469a30ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b4fa2eb00a29ebf4180b262469a30ee">&#9670;&#160;</a></span>load_demo_refresh_model_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.load_demo_refresh_model_list </td>
          <td>(</td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00071">71</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   71</span><span class="keyword">def </span>load_demo_refresh_model_list(request: gr.Request):</div>
<div class="line"><span class="lineno">   72</span>    logger.info(f<span class="stringliteral">&quot;load_demo. ip: {request.client.host}&quot;</span>)</div>
<div class="line"><span class="lineno">   73</span>    models = get_model_list()</div>
<div class="line"><span class="lineno">   74</span>    state = default_conversation.copy()</div>
<div class="line"><span class="lineno">   75</span>    dropdown_update = gr.Dropdown(</div>
<div class="line"><span class="lineno">   76</span>        choices=models,</div>
<div class="line"><span class="lineno">   77</span>        value=models[0] <span class="keywordflow">if</span> len(models) &gt; 0 <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">   78</span>    )</div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">return</span> state, dropdown_update</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacellava_1_1serve_1_1gradio__web__server_a0b4fa2eb00a29ebf4180b262469a30ee_cgraph.png" border="0" usemap="#anamespacellava_1_1serve_1_1gradio__web__server_a0b4fa2eb00a29ebf4180b262469a30ee_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a9a95c3ad99d8e4971a5a424f02ada04e" name="a9a95c3ad99d8e4971a5a424f02ada04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a95c3ad99d8e4971a5a424f02ada04e">&#9670;&#160;</a></span>regenerate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.regenerate </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>image_process_mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00112">112</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span><span class="keyword">def </span>regenerate(state, image_process_mode, request: gr.Request):</div>
<div class="line"><span class="lineno">  113</span>    logger.info(f<span class="stringliteral">&quot;regenerate. ip: {request.client.host}&quot;</span>)</div>
<div class="line"><span class="lineno">  114</span>    state.messages[-1][-1] = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  115</span>    prev_human_msg = state.messages[-2]</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">if</span> type(prev_human_msg[1]) <span class="keywordflow">in</span> (tuple, list):</div>
<div class="line"><span class="lineno">  117</span>        prev_human_msg[1] = (*prev_human_msg[1][:2], image_process_mode)</div>
<div class="line"><span class="lineno">  118</span>    state.skip_next = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">return</span> (state, state.to_gradio_chatbot(), <span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">None</span>) + (disable_btn,) * 5</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af60d4ac622856c2a745cafcebfa0c958" name="af60d4ac622856c2a745cafcebfa0c958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af60d4ac622856c2a745cafcebfa0c958">&#9670;&#160;</a></span>upvote_last_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.upvote_last_response </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>model_selector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00094">94</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   94</span><span class="keyword">def </span>upvote_last_response(state, model_selector, request: gr.Request):</div>
<div class="line"><span class="lineno">   95</span>    logger.info(f<span class="stringliteral">&quot;upvote. ip: {request.client.host}&quot;</span>)</div>
<div class="line"><span class="lineno">   96</span>    vote_last_response(state, <span class="stringliteral">&quot;upvote&quot;</span>, model_selector, request)</div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">return</span> (<span class="stringliteral">&quot;&quot;</span>,) + (disable_btn,) * 3</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacellava_1_1serve_1_1gradio__web__server_af60d4ac622856c2a745cafcebfa0c958_cgraph.png" border="0" usemap="#anamespacellava_1_1serve_1_1gradio__web__server_af60d4ac622856c2a745cafcebfa0c958_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a859a9f172b39a6097a21be093e3d5550" name="a859a9f172b39a6097a21be093e3d5550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859a9f172b39a6097a21be093e3d5550">&#9670;&#160;</a></span>vote_last_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.vote_last_response </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vote_type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>model_selector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gr.Request</td>          <td class="paramname"><span class="paramname"><em>request</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00082">82</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   82</span><span class="keyword">def </span>vote_last_response(state, vote_type, model_selector, request: gr.Request):</div>
<div class="line"><span class="lineno">   83</span>    <span class="keyword">with</span> open(get_conv_log_filename(), <span class="stringliteral">&quot;a&quot;</span>) <span class="keyword">as</span> fout:</div>
<div class="line"><span class="lineno">   84</span>        data = {</div>
<div class="line"><span class="lineno">   85</span>            <span class="stringliteral">&quot;tstamp&quot;</span>: round(time.time(), 4),</div>
<div class="line"><span class="lineno">   86</span>            <span class="stringliteral">&quot;type&quot;</span>: vote_type,</div>
<div class="line"><span class="lineno">   87</span>            <span class="stringliteral">&quot;model&quot;</span>: model_selector,</div>
<div class="line"><span class="lineno">   88</span>            <span class="stringliteral">&quot;state&quot;</span>: state.dict(),</div>
<div class="line"><span class="lineno">   89</span>            <span class="stringliteral">&quot;ip&quot;</span>: request.client.host,</div>
<div class="line"><span class="lineno">   90</span>        }</div>
<div class="line"><span class="lineno">   91</span>        fout.write(json.dumps(data) + <span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacellava_1_1serve_1_1gradio__web__server_a859a9f172b39a6097a21be093e3d5550_cgraph.png" border="0" usemap="#anamespacellava_1_1serve_1_1gradio__web__server_a859a9f172b39a6097a21be093e3d5550_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacellava_1_1serve_1_1gradio__web__server_a859a9f172b39a6097a21be093e3d5550_icgraph.png" border="0" usemap="#anamespacellava_1_1serve_1_1gradio__web__server_a859a9f172b39a6097a21be093e3d5550_icgraph" alt=""/></div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a588fed3fe7932e1e382027de6e9cdd5d" name="a588fed3fe7932e1e382027de6e9cdd5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a588fed3fe7932e1e382027de6e9cdd5d">&#9670;&#160;</a></span>action</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.action</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00463">463</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a5eda9791b947aae9179d672da69fcdd9" name="a5eda9791b947aae9179d672da69fcdd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eda9791b947aae9179d672da69fcdd9">&#9670;&#160;</a></span>api_open</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.api_open</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00474">474</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a265d702a87d43f95259de3334227a58a" name="a265d702a87d43f95259de3334227a58a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a265d702a87d43f95259de3334227a58a">&#9670;&#160;</a></span>args</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.args = parser.parse_args()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00466">466</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="af5d2d67d98d6574d28b052d5e505dab5" name="af5d2d67d98d6574d28b052d5e505dab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d2d67d98d6574d28b052d5e505dab5">&#9670;&#160;</a></span>block_css</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a9f192e4649eb182c4d65ab1f661446a8">str</a> llava.serve.gradio_web_server.block_css</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">#buttons button {</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">    min-width: min(120px,100%);</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">}</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00307">307</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="abbcd2eda18b93926f2c0e38c02876ea3" name="abbcd2eda18b93926f2c0e38c02876ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbcd2eda18b93926f2c0e38c02876ea3">&#9670;&#160;</a></span>choices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.choices</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00462">462</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a0f7a2fec5a700b4aad72f9141a499fd7" name="a0f7a2fec5a700b4aad72f9141a499fd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f7a2fec5a700b4aad72f9141a499fd7">&#9670;&#160;</a></span>default</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.default</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00457">457</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a4e82d3c5944dad0646403ad184e7af4c" name="a4e82d3c5944dad0646403ad184e7af4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e82d3c5944dad0646403ad184e7af4c">&#9670;&#160;</a></span>demo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.demo = <a class="el" href="#a79fc5afb330fad6a1ab146ab4f0f49a8">build_demo</a>(args.embed, concurrency_count=args.concurrency_count)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00472">472</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="ab18d901f12f99cc3edfd52f99bb90923" name="ab18d901f12f99cc3edfd52f99bb90923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab18d901f12f99cc3edfd52f99bb90923">&#9670;&#160;</a></span>disable_btn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.disable_btn = gr.Button(interactive=False)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00024">24</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="afe7fd8d42f54aeacf5777334776a1c94" name="afe7fd8d42f54aeacf5777334776a1c94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe7fd8d42f54aeacf5777334776a1c94">&#9670;&#160;</a></span>enable_btn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.enable_btn = gr.Button(interactive=True)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00023">23</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a1159aa4489f298ab5a5ce6828727968b" name="a1159aa4489f298ab5a5ce6828727968b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1159aa4489f298ab5a5ce6828727968b">&#9670;&#160;</a></span>get_window_url_params</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a9f192e4649eb182c4d65ab1f661446a8">str</a> llava.serve.gradio_web_server.get_window_url_params</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">function() {</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">    const params = new URLSearchParams(window.location.search);</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">    url_params = Object.fromEntries(params);</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">    console.log(url_params);</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral">    return url_params;</span></div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">    }</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00048">48</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="ab716f16be1a211ec76f589925510da65" name="ab716f16be1a211ec76f589925510da65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab716f16be1a211ec76f589925510da65">&#9670;&#160;</a></span>headers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict llava.serve.gradio_web_server.headers = {&quot;User-Agent&quot;: &quot;LLaVA Client&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00020">20</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="adde3614dee937bc94d6b638414bceba0" name="adde3614dee937bc94d6b638414bceba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde3614dee937bc94d6b638414bceba0">&#9670;&#160;</a></span>int</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.int</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00460">460</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="ad7b0a5e7c540efa14afb6455efc8f802" name="ad7b0a5e7c540efa14afb6455efc8f802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7b0a5e7c540efa14afb6455efc8f802">&#9670;&#160;</a></span>learn_more_markdown</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple llava.serve.gradio_web_server.learn_more_markdown = ()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00302">302</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="af31b75562f23477c6c980c12623c474d" name="af31b75562f23477c6c980c12623c474d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31b75562f23477c6c980c12623c474d">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.logger = build_logger(&quot;gradio_web_server&quot;, &quot;gradio_web_server.log&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00018">18</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a470ecbce5e7dbf9fc1c4826d347f9b3d" name="a470ecbce5e7dbf9fc1c4826d347f9b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a470ecbce5e7dbf9fc1c4826d347f9b3d">&#9670;&#160;</a></span>models</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.models = <a class="el" href="#a5e04990393402eb7011f171ecb0bb724">get_model_list</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00469">469</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a87eaffb357945265286b11af0f1b90de" name="a87eaffb357945265286b11af0f1b90de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87eaffb357945265286b11af0f1b90de">&#9670;&#160;</a></span>no_change_btn</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.no_change_btn = gr.Button()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00022">22</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a9c91c1422c26a5245d253aa0d8edc56a" name="a9c91c1422c26a5245d253aa0d8edc56a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c91c1422c26a5245d253aa0d8edc56a">&#9670;&#160;</a></span>parser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.parser = argparse.ArgumentParser()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00456">456</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a961deb3d57ee7711f2d697f8c4f23834" name="a961deb3d57ee7711f2d697f8c4f23834"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a961deb3d57ee7711f2d697f8c4f23834">&#9670;&#160;</a></span>priority</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict llava.serve.gradio_web_server.priority</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;vicuna-13b&quot;</span>: <span class="stringliteral">&quot;aaaaaaa&quot;</span>,</div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;koala-13b&quot;</span>: <span class="stringliteral">&quot;aaaaaab&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00026">26</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="ad86e203e3c17743e8c79110b733190fb" name="ad86e203e3c17743e8c79110b733190fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad86e203e3c17743e8c79110b733190fb">&#9670;&#160;</a></span>server_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.server_name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00476">476</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a195508182f18d54d86316c2609c7b435" name="a195508182f18d54d86316c2609c7b435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a195508182f18d54d86316c2609c7b435">&#9670;&#160;</a></span>server_port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.server_port</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00477">477</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="abe2f7521c420f275c15fd46b09c05633" name="abe2f7521c420f275c15fd46b09c05633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe2f7521c420f275c15fd46b09c05633">&#9670;&#160;</a></span>share</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.share</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00478">478</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a9f192e4649eb182c4d65ab1f661446a8" name="a9f192e4649eb182c4d65ab1f661446a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f192e4649eb182c4d65ab1f661446a8">&#9670;&#160;</a></span>str</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.str</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00457">457</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="aa36484a74530d106a5263373898b8f05" name="aa36484a74530d106a5263373898b8f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36484a74530d106a5263373898b8f05">&#9670;&#160;</a></span>title_markdown</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple llava.serve.gradio_web_server.title_markdown = ()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00288">288</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="aa572665932e372d830a39599f368c78d" name="aa572665932e372d830a39599f368c78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa572665932e372d830a39599f368c78d">&#9670;&#160;</a></span>tos_markdown</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple llava.serve.gradio_web_server.tos_markdown = ()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00293">293</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
<a id="a52ce837216d8fab7c8979ec3851a5a8d" name="a52ce837216d8fab7c8979ec3851a5a8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52ce837216d8fab7c8979ec3851a5a8d">&#9670;&#160;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llava.serve.gradio_web_server.type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="gradio__web__server_8py_source.html#l00457">457</a> of file <a class="el" href="gradio__web__server_8py_source.html">gradio_web_server.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacellava.html">llava</a></li><li class="navelem"><a class="el" href="namespacellava_1_1serve.html">serve</a></li><li class="navelem"><a class="el" href="namespacellava_1_1serve_1_1gradio__web__server.html">gradio_web_server</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0 </li>
  </ul>
</div>
</body>
</html>
