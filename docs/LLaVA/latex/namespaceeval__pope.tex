\doxysection{eval\+\_\+pope Namespace Reference}
\hypertarget{namespaceeval__pope}{}\label{namespaceeval__pope}\index{eval\_pope@{eval\_pope}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceeval__pope_a52e243ef5d768d0c945ee6fa02710a12}{eval\+\_\+pope}} (\mbox{\hyperlink{namespaceeval__pope_a2a40bb03ad27a654dd4e1a1340b6070f}{answers}}, label\+\_\+file)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceeval__pope_ad1a4f3177767b98b69663b18c1a1537f}{parser}} = argparse.\+Argument\+Parser()
\item 
\mbox{\hyperlink{namespaceeval__pope_acb56e1455f37b77d5a1a893d5e539dec}{type}}
\item 
\mbox{\hyperlink{namespaceeval__pope_a21f3bc0a3e0186a80227f20aedabe904}{args}} = parser.\+parse\+\_\+args()
\item 
list \mbox{\hyperlink{namespaceeval__pope_a00d11b6bb8d179a945200a0811fb22f3}{questions}} = \mbox{[}json.\+loads(line) for line in open(args.\+question\+\_\+file)\mbox{]}
\item 
list \mbox{\hyperlink{namespaceeval__pope_a2a40bb03ad27a654dd4e1a1340b6070f}{answers}} = \mbox{[}json.\+loads(q) for q in open(args.\+result\+\_\+file)\mbox{]}
\item 
\mbox{\hyperlink{namespaceeval__pope_a6e6897f8a310712acd0ddf1ab3ff15c2}{category}} = file\mbox{[}10\+:-\/5\mbox{]}
\item 
list \mbox{\hyperlink{namespaceeval__pope_ad85c31915ca1a716e011c9315e5cda81}{cur\+\_\+answers}} = \mbox{[}x for x in \mbox{\hyperlink{namespaceeval__pope_a2a40bb03ad27a654dd4e1a1340b6070f}{answers}} if \mbox{\hyperlink{namespaceeval__pope_a00d11b6bb8d179a945200a0811fb22f3}{questions}}\mbox{[}x\mbox{[}\textquotesingle{}question\+\_\+id\textquotesingle{}\mbox{]}\mbox{]}\mbox{[}\textquotesingle{}\mbox{\hyperlink{namespaceeval__pope_a6e6897f8a310712acd0ddf1ab3ff15c2}{category}}\textquotesingle{}\mbox{]} == \mbox{\hyperlink{namespaceeval__pope_a6e6897f8a310712acd0ddf1ab3ff15c2}{category}}\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespaceeval__pope_a52e243ef5d768d0c945ee6fa02710a12}\index{eval\_pope@{eval\_pope}!eval\_pope@{eval\_pope}}
\index{eval\_pope@{eval\_pope}!eval\_pope@{eval\_pope}}
\doxysubsubsection{\texorpdfstring{eval\_pope()}{eval\_pope()}}
{\footnotesize\ttfamily \label{namespaceeval__pope_a52e243ef5d768d0c945ee6fa02710a12} 
eval\+\_\+pope.\+eval\+\_\+pope (\begin{DoxyParamCaption}\item[{}]{answers}{, }\item[{}]{label\+\_\+file}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{eval__pope_8py_source_l00005}{5}} of file \mbox{\hyperlink{eval__pope_8py_source}{eval\+\_\+pope.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00005\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespaceeval__pope}{eval\_pope}}(answers,\ label\_file):}
\DoxyCodeLine{00006\ \ \ \ \ label\_list\ =\ [json.loads(q)[\textcolor{stringliteral}{'label'}]\ \textcolor{keywordflow}{for}\ q\ \textcolor{keywordflow}{in}\ open(label\_file,\ \textcolor{stringliteral}{'r'})]}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \ \ \ \ \textcolor{keywordflow}{for}\ answer\ \textcolor{keywordflow}{in}\ answers:}
\DoxyCodeLine{00009\ \ \ \ \ \ \ \ \ text\ =\ answer[\textcolor{stringliteral}{'text'}]}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Only\ keep\ the\ first\ sentence}}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ text.find(\textcolor{stringliteral}{'.'})\ !=\ -\/1:}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \ \ \ \ text\ =\ text.split(\textcolor{stringliteral}{'.'})[0]}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ text\ =\ text.replace(\textcolor{stringliteral}{','},\ \textcolor{stringliteral}{''})}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ words\ =\ text.split(\textcolor{stringliteral}{'\ '})}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'No'}\ \textcolor{keywordflow}{in}\ words\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{'not'}\ \textcolor{keywordflow}{in}\ words\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{'no'}\ \textcolor{keywordflow}{in}\ words:}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \ \ \ \ answer[\textcolor{stringliteral}{'text'}]\ =\ \textcolor{stringliteral}{'no'}}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ answer[\textcolor{stringliteral}{'text'}]\ =\ \textcolor{stringliteral}{'yes'}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(len(label\_list)):}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ label\_list[i]\ ==\ \textcolor{stringliteral}{'no'}:}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ label\_list[i]\ =\ 0}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \ \ label\_list[i]\ =\ 1}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ pred\_list\ =\ []}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordflow}{for}\ answer\ \textcolor{keywordflow}{in}\ answers:}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ answer[\textcolor{stringliteral}{'text'}]\ ==\ \textcolor{stringliteral}{'no'}:}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ pred\_list.append(0)}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ pred\_list.append(1)}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ pos\ =\ 1}
\DoxyCodeLine{00036\ \ \ \ \ neg\ =\ 0}
\DoxyCodeLine{00037\ \ \ \ \ yes\_ratio\ =\ pred\_list.count(1)\ /\ len(pred\_list)}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ TP,\ TN,\ FP,\ FN\ =\ 0,\ 0,\ 0,\ 0}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordflow}{for}\ pred,\ label\ \textcolor{keywordflow}{in}\ zip(pred\_list,\ label\_list):}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ pred\ ==\ pos\ \textcolor{keywordflow}{and}\ label\ ==\ pos:}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ TP\ +=\ 1}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ pred\ ==\ pos\ \textcolor{keywordflow}{and}\ label\ ==\ neg:}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ FP\ +=\ 1}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ pred\ ==\ neg\ \textcolor{keywordflow}{and}\ label\ ==\ neg:}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ TN\ +=\ 1}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ pred\ ==\ neg\ \textcolor{keywordflow}{and}\ label\ ==\ pos:}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ FN\ +=\ 1}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ print(\textcolor{stringliteral}{'TP\(\backslash\)tFP\(\backslash\)tTN\(\backslash\)tFN\(\backslash\)t'})}
\DoxyCodeLine{00051\ \ \ \ \ print(\textcolor{stringliteral}{'\{\}\(\backslash\)t\{\}\(\backslash\)t\{\}\(\backslash\)t\{\}'}.format(TP,\ FP,\ TN,\ FN))}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ precision\ =\ float(TP)\ /\ float(TP\ +\ FP)}
\DoxyCodeLine{00054\ \ \ \ \ recall\ =\ float(TP)\ /\ float(TP\ +\ FN)}
\DoxyCodeLine{00055\ \ \ \ \ f1\ =\ 2*precision*recall\ /\ (precision\ +\ recall)}
\DoxyCodeLine{00056\ \ \ \ \ acc\ =\ (TP\ +\ TN)\ /\ (TP\ +\ TN\ +\ FP\ +\ FN)}
\DoxyCodeLine{00057\ \ \ \ \ print(\textcolor{stringliteral}{'Accuracy:\ \{\}'}.format(acc))}
\DoxyCodeLine{00058\ \ \ \ \ print(\textcolor{stringliteral}{'Precision:\ \{\}'}.format(precision))}
\DoxyCodeLine{00059\ \ \ \ \ print(\textcolor{stringliteral}{'Recall:\ \{\}'}.format(recall))}
\DoxyCodeLine{00060\ \ \ \ \ print(\textcolor{stringliteral}{'F1\ score:\ \{\}'}.format(f1))}
\DoxyCodeLine{00061\ \ \ \ \ print(\textcolor{stringliteral}{'Yes\ ratio:\ \{\}'}.format(yes\_ratio))}
\DoxyCodeLine{00062\ \ \ \ \ print(\textcolor{stringliteral}{'\%.3f,\ \%.3f,\ \%.3f,\ \%.3f,\ \%.3f'}\ \%\ (f1,\ acc,\ precision,\ recall,\ yes\_ratio)\ )}
\DoxyCodeLine{00063\ }

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\Hypertarget{namespaceeval__pope_a2a40bb03ad27a654dd4e1a1340b6070f}\index{eval\_pope@{eval\_pope}!answers@{answers}}
\index{answers@{answers}!eval\_pope@{eval\_pope}}
\doxysubsubsection{\texorpdfstring{answers}{answers}}
{\footnotesize\ttfamily \label{namespaceeval__pope_a2a40bb03ad27a654dd4e1a1340b6070f} 
list eval\+\_\+pope.\+answers = \mbox{[}json.\+loads(q) for q in open(args.\+result\+\_\+file)\mbox{]}}



Definition at line \mbox{\hyperlink{eval__pope_8py_source_l00073}{73}} of file \mbox{\hyperlink{eval__pope_8py_source}{eval\+\_\+pope.\+py}}.

\Hypertarget{namespaceeval__pope_a21f3bc0a3e0186a80227f20aedabe904}\index{eval\_pope@{eval\_pope}!args@{args}}
\index{args@{args}!eval\_pope@{eval\_pope}}
\doxysubsubsection{\texorpdfstring{args}{args}}
{\footnotesize\ttfamily \label{namespaceeval__pope_a21f3bc0a3e0186a80227f20aedabe904} 
eval\+\_\+pope.\+args = parser.\+parse\+\_\+args()}



Definition at line \mbox{\hyperlink{eval__pope_8py_source_l00069}{69}} of file \mbox{\hyperlink{eval__pope_8py_source}{eval\+\_\+pope.\+py}}.

\Hypertarget{namespaceeval__pope_a6e6897f8a310712acd0ddf1ab3ff15c2}\index{eval\_pope@{eval\_pope}!category@{category}}
\index{category@{category}!eval\_pope@{eval\_pope}}
\doxysubsubsection{\texorpdfstring{category}{category}}
{\footnotesize\ttfamily \label{namespaceeval__pope_a6e6897f8a310712acd0ddf1ab3ff15c2} 
eval\+\_\+pope.\+category = file\mbox{[}10\+:-\/5\mbox{]}}



Definition at line \mbox{\hyperlink{eval__pope_8py_source_l00077}{77}} of file \mbox{\hyperlink{eval__pope_8py_source}{eval\+\_\+pope.\+py}}.

\Hypertarget{namespaceeval__pope_ad85c31915ca1a716e011c9315e5cda81}\index{eval\_pope@{eval\_pope}!cur\_answers@{cur\_answers}}
\index{cur\_answers@{cur\_answers}!eval\_pope@{eval\_pope}}
\doxysubsubsection{\texorpdfstring{cur\_answers}{cur\_answers}}
{\footnotesize\ttfamily \label{namespaceeval__pope_ad85c31915ca1a716e011c9315e5cda81} 
list eval\+\_\+pope.\+cur\+\_\+answers = \mbox{[}x for x in \mbox{\hyperlink{namespaceeval__pope_a2a40bb03ad27a654dd4e1a1340b6070f}{answers}} if \mbox{\hyperlink{namespaceeval__pope_a00d11b6bb8d179a945200a0811fb22f3}{questions}}\mbox{[}x\mbox{[}\textquotesingle{}question\+\_\+id\textquotesingle{}\mbox{]}\mbox{]}\mbox{[}\textquotesingle{}\mbox{\hyperlink{namespaceeval__pope_a6e6897f8a310712acd0ddf1ab3ff15c2}{category}}\textquotesingle{}\mbox{]} == \mbox{\hyperlink{namespaceeval__pope_a6e6897f8a310712acd0ddf1ab3ff15c2}{category}}\mbox{]}}



Definition at line \mbox{\hyperlink{eval__pope_8py_source_l00078}{78}} of file \mbox{\hyperlink{eval__pope_8py_source}{eval\+\_\+pope.\+py}}.

\Hypertarget{namespaceeval__pope_ad1a4f3177767b98b69663b18c1a1537f}\index{eval\_pope@{eval\_pope}!parser@{parser}}
\index{parser@{parser}!eval\_pope@{eval\_pope}}
\doxysubsubsection{\texorpdfstring{parser}{parser}}
{\footnotesize\ttfamily \label{namespaceeval__pope_ad1a4f3177767b98b69663b18c1a1537f} 
eval\+\_\+pope.\+parser = argparse.\+Argument\+Parser()}



Definition at line \mbox{\hyperlink{eval__pope_8py_source_l00065}{65}} of file \mbox{\hyperlink{eval__pope_8py_source}{eval\+\_\+pope.\+py}}.

\Hypertarget{namespaceeval__pope_a00d11b6bb8d179a945200a0811fb22f3}\index{eval\_pope@{eval\_pope}!questions@{questions}}
\index{questions@{questions}!eval\_pope@{eval\_pope}}
\doxysubsubsection{\texorpdfstring{questions}{questions}}
{\footnotesize\ttfamily \label{namespaceeval__pope_a00d11b6bb8d179a945200a0811fb22f3} 
dict eval\+\_\+pope.\+questions = \mbox{[}json.\+loads(line) for line in open(args.\+question\+\_\+file)\mbox{]}}



Definition at line \mbox{\hyperlink{eval__pope_8py_source_l00071}{71}} of file \mbox{\hyperlink{eval__pope_8py_source}{eval\+\_\+pope.\+py}}.

\Hypertarget{namespaceeval__pope_acb56e1455f37b77d5a1a893d5e539dec}\index{eval\_pope@{eval\_pope}!type@{type}}
\index{type@{type}!eval\_pope@{eval\_pope}}
\doxysubsubsection{\texorpdfstring{type}{type}}
{\footnotesize\ttfamily \label{namespaceeval__pope_acb56e1455f37b77d5a1a893d5e539dec} 
eval\+\_\+pope.\+type}



Definition at line \mbox{\hyperlink{eval__pope_8py_source_l00066}{66}} of file \mbox{\hyperlink{eval__pope_8py_source}{eval\+\_\+pope.\+py}}.

