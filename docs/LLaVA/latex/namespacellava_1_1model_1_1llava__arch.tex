\doxysection{llava.\+model.\+llava\+\_\+arch Namespace Reference}
\hypertarget{namespacellava_1_1model_1_1llava__arch}{}\label{namespacellava_1_1model_1_1llava__arch}\index{llava.model.llava\_arch@{llava.model.llava\_arch}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classllava_1_1model_1_1llava__arch_1_1_llava_meta_for_causal_l_m}{Llava\+Meta\+For\+Causal\+LM}}
\begin{DoxyCompactList}\small\item\em LLa\+VA 모델의 추상 클래스 \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classllava_1_1model_1_1llava__arch_1_1_llava_meta_model}{Llava\+Meta\+Model}}
\begin{DoxyCompactList}\small\item\em LLa\+VA 모델의 메타클래스 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacellava_1_1model_1_1llava__arch_a78b104a785c78d9a11febf6ffc1f8615}{unpad\+\_\+image}} (tensor, original\+\_\+size)
\begin{DoxyCompactList}\small\item\em 이미지 텐서(패딩 처리된 이미지)를 원래 크기로 복원하는 함수 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespacellava_1_1model_1_1llava__arch_a78b104a785c78d9a11febf6ffc1f8615}\index{llava.model.llava\_arch@{llava.model.llava\_arch}!unpad\_image@{unpad\_image}}
\index{unpad\_image@{unpad\_image}!llava.model.llava\_arch@{llava.model.llava\_arch}}
\doxysubsubsection{\texorpdfstring{unpad\_image()}{unpad\_image()}}
{\footnotesize\ttfamily \label{namespacellava_1_1model_1_1llava__arch_a78b104a785c78d9a11febf6ffc1f8615} 
llava.\+model.\+llava\+\_\+arch.\+unpad\+\_\+image (\begin{DoxyParamCaption}\item[{}]{tensor}{, }\item[{}]{original\+\_\+size}{}\end{DoxyParamCaption})}



이미지 텐서(패딩 처리된 이미지)를 원래 크기로 복원하는 함수 

\begin{DoxyAuthor}{Author}
이지희(2021113406)
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em tensor} & 입력 텐서 (Cx\+HxW 형식) \\
\hline
{\em original\+\_\+size} & 원본 이미지 크기 (너비, 높이) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
복원된 이미지 텐서
\end{DoxyReturn}
\begin{DoxyVerb}Unpads a PyTorch tensor of a padded and resized image.

Args:
tensor (torch.Tensor): The image tensor, assumed to be in CxHxW format.
original_size (tuple): The original size of PIL image (width, height).

Returns:
torch.Tensor: The unpadded image tensor.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{llava__arch_8py_source_l00144}{144}} of file \mbox{\hyperlink{llava__arch_8py_source}{llava\+\_\+arch.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00144\ \textcolor{keyword}{def\ }unpad\_image(tensor,\ original\_size):}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00146\ \textcolor{stringliteral}{\ \ \ \ Unpads\ a\ PyTorch\ tensor\ of\ a\ padded\ and\ resized\ image.}}
\DoxyCodeLine{00147\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00148\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{00149\ \textcolor{stringliteral}{\ \ \ \ tensor\ (torch.Tensor):\ The\ image\ tensor,\ assumed\ to\ be\ in\ CxHxW\ format.}}
\DoxyCodeLine{00150\ \textcolor{stringliteral}{\ \ \ \ original\_size\ (tuple):\ The\ original\ size\ of\ PIL\ image\ (width,\ height).}}
\DoxyCodeLine{00151\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00152\ \textcolor{stringliteral}{\ \ \ \ Returns:}}
\DoxyCodeLine{00153\ \textcolor{stringliteral}{\ \ \ \ torch.Tensor:\ The\ unpadded\ image\ tensor.}}
\DoxyCodeLine{00154\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00155\ \ \ \ \ original\_width,\ original\_height\ =\ original\_size}
\DoxyCodeLine{00156\ \ \ \ \ current\_height,\ current\_width\ =\ tensor.shape[1:]}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \ \ \ \ original\_aspect\_ratio\ =\ original\_width\ /\ original\_height}
\DoxyCodeLine{00159\ \ \ \ \ current\_aspect\_ratio\ =\ current\_width\ /\ current\_height}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{if}\ original\_aspect\_ratio\ >\ current\_aspect\_ratio:}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ scale\_factor\ =\ current\_width\ /\ original\_width}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ new\_height\ =\ int(original\_height\ *\ scale\_factor)}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ padding\ =\ (current\_height\ -\/\ new\_height)\ //\ 2}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ unpadded\_tensor\ =\ tensor[:,\ padding:current\_height\ -\/\ padding,\ :]}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ scale\_factor\ =\ current\_height\ /\ original\_height}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ new\_width\ =\ int(original\_width\ *\ scale\_factor)}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ padding\ =\ (current\_width\ -\/\ new\_width)\ //\ 2}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ unpadded\_tensor\ =\ tensor[:,\ :,\ padding:current\_width\ -\/\ padding]}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordflow}{return}\ unpadded\_tensor}
\DoxyCodeLine{00173\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 0
