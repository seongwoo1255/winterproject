\doxysection{llava/eval/eval\+\_\+science\+\_\+qa\+\_\+gpt4.py File Reference}
\hypertarget{eval__science__qa__gpt4_8py}{}\label{eval__science__qa__gpt4_8py}\index{llava/eval/eval\_science\_qa\_gpt4.py@{llava/eval/eval\_science\_qa\_gpt4.py}}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespaceeval__science__qa__gpt4}{eval\+\_\+science\+\_\+qa\+\_\+gpt4}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a6f09ebf85269a6195ba3e094fa2c708e}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+get\+\_\+args}} ()
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a1d2bd458da09bbb19aff8c26b1ac5b81}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+convert\+\_\+caps}} (\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a6b1fdf66c573685d5b418bcc4eeb3f62}{results}})
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_aa19efdeb13e20e14719a35ac849611f8}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+get\+\_\+pred\+\_\+idx}} (prediction, choices, options)
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_ac8a20f56fa2ef3b8b4f640a7775803a9}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+args}} = \mbox{\hyperlink{namespaceeval__science__qa__gpt4_a6f09ebf85269a6195ba3e094fa2c708e}{get\+\_\+args}}()
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a0ef8df399536cdda1ccaec02b567c9e3}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+base\+\_\+dir}} = args.\+base\+\_\+dir
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_ade5783b57f04796a918404048b448146}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+split\+\_\+indices}} = json.\+load(open(os.\+path.\+join(\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a0ef8df399536cdda1ccaec02b567c9e3}{base\+\_\+dir}}, "{}pid\+\_\+splits.\+json"{})))\mbox{[}args.\+split\mbox{]}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a858afe3c48578c7235e1b9cbaa40808e}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+problems}} = json.\+load(open(os.\+path.\+join(\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a0ef8df399536cdda1ccaec02b567c9e3}{base\+\_\+dir}}, "{}problems.\+json"{})))
\item 
list \mbox{\hyperlink{namespaceeval__science__qa__gpt4_af5e1553e37bd32ce39298a77cda5d8f7}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+our\+\_\+predictions}} = \mbox{[}json.\+loads(line) for line in open(args.\+our\+\_\+result)\mbox{]}
\item 
dict \mbox{\hyperlink{namespaceeval__science__qa__gpt4_ad256819cc1bceba4423b5081d3aed1f6}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+split\+\_\+problems}} = \{idx\+: \mbox{\hyperlink{namespaceeval__science__qa__gpt4_a858afe3c48578c7235e1b9cbaa40808e}{problems}}\mbox{[}idx\mbox{]} for idx in \mbox{\hyperlink{namespaceeval__science__qa__gpt4_ade5783b57f04796a918404048b448146}{split\+\_\+indices}}\}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a0817acb72de53089269db7dc77dffc52}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+gpt4\+\_\+predictions}} = json.\+load(open(args.\+gpt4\+\_\+result))\mbox{[}\textquotesingle{}outputs\textquotesingle{}\mbox{]}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a6b1fdf66c573685d5b418bcc4eeb3f62}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+results}} = defaultdict(lambda\+: 0)
\item 
list \mbox{\hyperlink{namespaceeval__science__qa__gpt4_a2f28d72b62327c07949b3922dcffefc8}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+our\+\_\+pred}} = \mbox{\hyperlink{namespaceeval__science__qa__gpt4_af5e1553e37bd32ce39298a77cda5d8f7}{our\+\_\+predictions}}\mbox{[}prob\+\_\+id\mbox{]}\mbox{[}\textquotesingle{}text\textquotesingle{}\mbox{]}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a6cc232e736dcdeda8643df4f5ea81d37}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+gpt4\+\_\+pred}} = \mbox{\hyperlink{namespaceeval__science__qa__gpt4_a0817acb72de53089269db7dc77dffc52}{gpt4\+\_\+predictions}}\mbox{[}prob\+\_\+id\mbox{]}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a8aebb821ff14c0f028c99e8bb0c9298e}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+pattern}} = re.\+compile(r\textquotesingle{}The answer is (\mbox{[}A-\/Z\mbox{]}).\textquotesingle{})
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a130fe79d0c036f01d0a2f261a07e2403}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+our\+\_\+res}} = pattern.\+findall(\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a2f28d72b62327c07949b3922dcffefc8}{our\+\_\+pred}})
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_afb0897292b7f6b9b26fc79fe9185d9c4}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+our\+\_\+answer}} = \mbox{\hyperlink{namespaceeval__science__qa__gpt4_a130fe79d0c036f01d0a2f261a07e2403}{our\+\_\+res}}\mbox{[}0\mbox{]}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a224b0316fcd09bd72818f9a67887fd5a}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+gpt4\+\_\+res}} = pattern.\+findall(\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a6cc232e736dcdeda8643df4f5ea81d37}{gpt4\+\_\+pred}})
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_aeec210eeed54eb16814d66910a791918}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+gpt4\+\_\+answer}} = \mbox{\hyperlink{namespaceeval__science__qa__gpt4_a224b0316fcd09bd72818f9a67887fd5a}{gpt4\+\_\+res}}\mbox{[}0\mbox{]}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_adb3eeb95c2d0851edfaa1a0198503072}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+our\+\_\+pred\+\_\+idx}} = \mbox{\hyperlink{namespaceeval__science__qa__gpt4_aa19efdeb13e20e14719a35ac849611f8}{get\+\_\+pred\+\_\+idx}}(\mbox{\hyperlink{namespaceeval__science__qa__gpt4_afb0897292b7f6b9b26fc79fe9185d9c4}{our\+\_\+answer}}, prob\mbox{[}\textquotesingle{}choices\textquotesingle{}\mbox{]}, args.\+options)
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_ad1340a6525afe7f6c4287b44338b57f4}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+gpt4\+\_\+pred\+\_\+idx}} = \mbox{\hyperlink{namespaceeval__science__qa__gpt4_aa19efdeb13e20e14719a35ac849611f8}{get\+\_\+pred\+\_\+idx}}(\mbox{\hyperlink{namespaceeval__science__qa__gpt4_aeec210eeed54eb16814d66910a791918}{gpt4\+\_\+answer}}, prob\mbox{[}\textquotesingle{}choices\textquotesingle{}\mbox{]}, args.\+options)
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_aecce2af76b60015a35b2ec9d80ebbc1e}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+correct}} = \mbox{\hyperlink{namespaceeval__science__qa__gpt4_a6b1fdf66c573685d5b418bcc4eeb3f62}{results}}\mbox{[}\textquotesingle{}correct\textquotesingle{}\mbox{]}
\item 
\mbox{\hyperlink{namespaceeval__science__qa__gpt4_a1c560a0b1c6b3e7428f6d0438370021f}{eval\+\_\+science\+\_\+qa\+\_\+gpt4.\+total}} = \mbox{\hyperlink{namespaceeval__science__qa__gpt4_a6b1fdf66c573685d5b418bcc4eeb3f62}{results}}\mbox{[}\textquotesingle{}\mbox{\hyperlink{namespaceeval__science__qa__gpt4_aecce2af76b60015a35b2ec9d80ebbc1e}{correct}}\textquotesingle{}\mbox{]} + \mbox{\hyperlink{namespaceeval__science__qa__gpt4_a6b1fdf66c573685d5b418bcc4eeb3f62}{results}}\mbox{[}\textquotesingle{}incorrect\textquotesingle{}\mbox{]}
\end{DoxyCompactItemize}
