\doxysection{builder Namespace Reference}
\hypertarget{namespacebuilder}{}\label{namespacebuilder}\index{builder@{builder}}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classbuilder_1_1_identity_map}{Identity\+Map}}
\begin{DoxyCompactList}\small\item\em 입력을 그대로 반환하는 단순한 매핑 클래스 \end{DoxyCompactList}\item 
class \mbox{\hyperlink{classbuilder_1_1_simple_res_block}{Simple\+Res\+Block}}
\begin{DoxyCompactList}\small\item\em 간단한 Residual Block 구현 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacebuilder_a93c1daec82af6246104462e245df1585}{build\+\_\+vision\+\_\+tower}} (vision\+\_\+tower\+\_\+cfg, \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}kwargs)
\begin{DoxyCompactList}\small\item\em Vision Tower를 생성하는 함수 \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacebuilder_adcfdd3933ca7ea49ea0c1f8320e1f8ab}{build\+\_\+vision\+\_\+projector}} (config, delay\+\_\+load=False, \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}kwargs)
\begin{DoxyCompactList}\small\item\em Vision Projector를 생성하는 빌더 함수 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespacebuilder_adcfdd3933ca7ea49ea0c1f8320e1f8ab}\index{builder@{builder}!build\_vision\_projector@{build\_vision\_projector}}
\index{build\_vision\_projector@{build\_vision\_projector}!builder@{builder}}
\doxysubsubsection{\texorpdfstring{build\_vision\_projector()}{build\_vision\_projector()}}
{\footnotesize\ttfamily \label{namespacebuilder_adcfdd3933ca7ea49ea0c1f8320e1f8ab} 
builder.\+build\+\_\+vision\+\_\+projector (\begin{DoxyParamCaption}\item[{}]{config}{, }\item[{}]{delay\+\_\+load}{ = {\ttfamily False}, }\item[{\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{kwargs}{}\end{DoxyParamCaption})}



Vision Projector를 생성하는 빌더 함수 

\begin{DoxyAuthor}{Author}
이지희(2021113406)
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em config} & (object) Vision Projector 설정 객체. {\ttfamily mm\+\_\+projector\+\_\+type} 및 관련 속성을 포함 \\
\hline
{\em delay\+\_\+load} & (bool) 지연 로드 여부. 기본값은 {\ttfamily False} \\
\hline
{\em kwargs} & 추가적인 인자 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
생성된 Vision Projector 객체 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Value\+Error} & 알 수 없는 projector 타입이 주어졌을 때 발생 \\
\hline
\end{DoxyExceptions}


Definition at line \mbox{\hyperlink{multimodal__projector_2builder_8py_source_l00091}{91}} of file \mbox{\hyperlink{multimodal__projector_2builder_8py_source}{builder.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00091\ \textcolor{keyword}{def\ }build\_vision\_projector(config,\ delay\_load=False,\ **kwargs):}
\DoxyCodeLine{00092\ \ \ \ \ projector\_type\ =\ getattr(config,\ \textcolor{stringliteral}{'mm\_projector\_type'},\ \textcolor{stringliteral}{'linear'})}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordflow}{if}\ projector\_type\ ==\ \textcolor{stringliteral}{'linear'}:}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ nn.Linear(config.mm\_hidden\_size,\ config.hidden\_size)}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ mlp\_gelu\_match\ =\ re.match(\textcolor{stringliteral}{r'\string^mlp(\(\backslash\)d+)x\_gelu\$'},\ projector\_type)}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{if}\ mlp\_gelu\_match:}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ mlp\_depth\ =\ int(mlp\_gelu\_match.group(1))}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ modules\ =\ [nn.Linear(config.mm\_hidden\_size,\ config.hidden\_size)]}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ \_\ \textcolor{keywordflow}{in}\ range(1,\ mlp\_depth):}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ modules.append(nn.GELU())}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ modules.append(nn.Linear(config.hidden\_size,\ config.hidden\_size))}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ nn.Sequential(*modules)}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordflow}{if}\ projector\_type\ ==\ \textcolor{stringliteral}{'identity'}:}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ IdentityMap()}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(f\textcolor{stringliteral}{'Unknown\ projector\ type:\ \{projector\_type\}'})}

\end{DoxyCode}
\Hypertarget{namespacebuilder_a93c1daec82af6246104462e245df1585}\index{builder@{builder}!build\_vision\_tower@{build\_vision\_tower}}
\index{build\_vision\_tower@{build\_vision\_tower}!builder@{builder}}
\doxysubsubsection{\texorpdfstring{build\_vision\_tower()}{build\_vision\_tower()}}
{\footnotesize\ttfamily \label{namespacebuilder_a93c1daec82af6246104462e245df1585} 
builder.\+build\+\_\+vision\+\_\+tower (\begin{DoxyParamCaption}\item[{}]{vision\+\_\+tower\+\_\+cfg}{, }\item[{\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{kwargs}{}\end{DoxyParamCaption})}



Vision Tower를 생성하는 함수 

\begin{DoxyAuthor}{Author}
이지희(2021113406)
\end{DoxyAuthor}

\begin{DoxyParams}{Parameters}
{\em vision\+\_\+tower\+\_\+cfg} & Vision Tower 설정 객체 \\
\hline
{\em kwargs} & 추가 인자 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
생성된 Vision Tower 객체 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Value\+Error} & 알 수 없는 Vision Tower 이름이 주어졌을 때 발생 \\
\hline
\end{DoxyExceptions}


Definition at line \mbox{\hyperlink{multimodal__encoder_2builder_8py_source_l00021}{21}} of file \mbox{\hyperlink{multimodal__encoder_2builder_8py_source}{builder.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00021\ \textcolor{keyword}{def\ }build\_vision\_tower(vision\_tower\_cfg,\ **kwargs):}
\DoxyCodeLine{00022\ \ \ \ \ vision\_tower\ =\ getattr(vision\_tower\_cfg,\ \textcolor{stringliteral}{'mm\_vision\_tower'},\ getattr(vision\_tower\_cfg,\ \textcolor{stringliteral}{'vision\_tower'},\ \textcolor{keywordtype}{None}))}
\DoxyCodeLine{00023\ \ \ \ \ is\_absolute\_path\_exists\ =\ os.path.exists(vision\_tower)}
\DoxyCodeLine{00024\ \ \ \ \ use\_s2\ =\ getattr(vision\_tower\_cfg,\ \textcolor{stringliteral}{'s2'},\ \textcolor{keyword}{False})}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keywordflow}{if}\ is\_absolute\_path\_exists\ \textcolor{keywordflow}{or}\ vision\_tower.startswith(\textcolor{stringliteral}{"{}openai"{}})\ \textcolor{keywordflow}{or}\ vision\_tower.startswith(\textcolor{stringliteral}{"{}laion"{}})\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}ShareGPT4V"{}}\ \textcolor{keywordflow}{in}\ vision\_tower:}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ use\_s2:}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CLIPVisionTowerS2(vision\_tower,\ args=vision\_tower\_cfg,\ **kwargs)}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CLIPVisionTower(vision\_tower,\ args=vision\_tower\_cfg,\ **kwargs)}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(f\textcolor{stringliteral}{'Unknown\ vision\ tower:\ \{vision\_tower\}'})}

\end{DoxyCode}
