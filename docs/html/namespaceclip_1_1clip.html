<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CLIP: clip.clip Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CLIP
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('namespaceclip_1_1clip.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">clip.clip Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4552ed95f75ae2373bfe34672feb1644" id="r_a4552ed95f75ae2373bfe34672feb1644"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4552ed95f75ae2373bfe34672feb1644">_download</a> (str url, str root)</td></tr>
<tr class="memdesc:a4552ed95f75ae2373bfe34672feb1644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Downloads a model file from a given URL.  <br /></td></tr>
<tr class="separator:a4552ed95f75ae2373bfe34672feb1644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c683955d410d35fc5cdf812c3cd055b" id="r_a5c683955d410d35fc5cdf812c3cd055b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c683955d410d35fc5cdf812c3cd055b">_convert_image_to_rgb</a> (image)</td></tr>
<tr class="memdesc:a5c683955d410d35fc5cdf812c3cd055b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an image to RGB format.  <br /></td></tr>
<tr class="separator:a5c683955d410d35fc5cdf812c3cd055b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e2bbfd64efea3fcc84b04b30e90dba" id="r_a60e2bbfd64efea3fcc84b04b30e90dba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60e2bbfd64efea3fcc84b04b30e90dba">_transform</a> (n_px)</td></tr>
<tr class="memdesc:a60e2bbfd64efea3fcc84b04b30e90dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a preprocessing pipeline for images.  <br /></td></tr>
<tr class="separator:a60e2bbfd64efea3fcc84b04b30e90dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1e29480bb03a4152c2c3dbc0ba6e5f4" id="r_af1e29480bb03a4152c2c3dbc0ba6e5f4"><td class="memItemLeft" align="right" valign="top">List[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1e29480bb03a4152c2c3dbc0ba6e5f4">available_models</a> ()</td></tr>
<tr class="memdesc:af1e29480bb03a4152c2c3dbc0ba6e5f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists the names of available pre-trained CLIP models.  <br /></td></tr>
<tr class="separator:af1e29480bb03a4152c2c3dbc0ba6e5f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9638365db32df0a68806aa2554b186" id="r_ada9638365db32df0a68806aa2554b186"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada9638365db32df0a68806aa2554b186">load</a> (str name, Union[str, torch.device] device=&quot;cuda&quot; if torch.cuda.is_available() else &quot;cpu&quot;, bool jit=False, str download_root=None)</td></tr>
<tr class="memdesc:ada9638365db32df0a68806aa2554b186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a CLIP model.  <br /></td></tr>
<tr class="separator:ada9638365db32df0a68806aa2554b186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36a01501a3d7c1632f3ddc785e8b8eb3" id="r_a36a01501a3d7c1632f3ddc785e8b8eb3"><td class="memItemLeft" align="right" valign="top">Union[torch.IntTensor, torch.LongTensor]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36a01501a3d7c1632f3ddc785e8b8eb3">tokenize</a> (Union[str, List[str]] texts, int context_length=77, bool truncate=False)</td></tr>
<tr class="memdesc:a36a01501a3d7c1632f3ddc785e8b8eb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tokenizes input text(s) for use with CLIP models.  <br /></td></tr>
<tr class="separator:a36a01501a3d7c1632f3ddc785e8b8eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a28c010f6f72c2bdea5c8cdbf0d0c18bb" id="r_a28c010f6f72c2bdea5c8cdbf0d0c18bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a28c010f6f72c2bdea5c8cdbf0d0c18bb">BICUBIC</a> = InterpolationMode.BICUBIC</td></tr>
<tr class="separator:a28c010f6f72c2bdea5c8cdbf0d0c18bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08c0656583a40bb7efbd1d6683627d73" id="r_a08c0656583a40bb7efbd1d6683627d73"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08c0656583a40bb7efbd1d6683627d73">__all__</a> = [&quot;available_models&quot;, &quot;load&quot;, &quot;tokenize&quot;]</td></tr>
<tr class="separator:a08c0656583a40bb7efbd1d6683627d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b88d157d1798d253cbe86f34466ae2" id="r_a17b88d157d1798d253cbe86f34466ae2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a17b88d157d1798d253cbe86f34466ae2">_tokenizer</a> = _Tokenizer()</td></tr>
<tr class="separator:a17b88d157d1798d253cbe86f34466ae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a414e1aa5cd9650d22dea529ffb6c8625" id="r_a414e1aa5cd9650d22dea529ffb6c8625"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a414e1aa5cd9650d22dea529ffb6c8625">_MODELS</a></td></tr>
<tr class="separator:a414e1aa5cd9650d22dea529ffb6c8625"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5c683955d410d35fc5cdf812c3cd055b" name="a5c683955d410d35fc5cdf812c3cd055b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c683955d410d35fc5cdf812c3cd055b">&#9670;&#160;</a></span>_convert_image_to_rgb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">clip.clip._convert_image_to_rgb </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>image</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts an image to RGB format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>A PIL.Image object representing the image to convert. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A PIL.Image object in RGB format. </dd></dl>

<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00108">108</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  108</span><span class="keyword">def </span>_convert_image_to_rgb(image):</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">return</span> image.convert(<span class="stringliteral">&quot;RGB&quot;</span>)</div>
<div class="line"><span class="lineno">  110</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4552ed95f75ae2373bfe34672feb1644" name="a4552ed95f75ae2373bfe34672feb1644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4552ed95f75ae2373bfe34672feb1644">&#9670;&#160;</a></span>_download()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">clip.clip._download </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>url</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>root</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Downloads a model file from a given URL. </p>
<p>This function downloads a file to the specified directory, validates its SHA256 checksum, and ensures the integrity of the downloaded file. If the checksum does not match, the download is retried or raises an error. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The URL from which to download the model file. </td></tr>
    <tr><td class="paramname">root</td><td>The root directory where the downloaded file will be saved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The absolute file path to the downloaded model file. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>If the file exists but is not a regular file, or if the checksum does not match. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00073">73</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span><span class="keyword">def </span>_download(url: str, root: str):</div>
<div class="line"><span class="lineno">   74</span>    os.makedirs(root, exist_ok=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   75</span>    filename = os.path.basename(url)</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    expected_sha256 = url.split(<span class="stringliteral">&quot;/&quot;</span>)[-2]</div>
<div class="line"><span class="lineno">   78</span>    download_target = os.path.join(root, filename)</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">if</span> os.path.exists(download_target) <span class="keywordflow">and</span> <span class="keywordflow">not</span> os.path.isfile(download_target):</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">raise</span> RuntimeError(f<span class="stringliteral">&quot;{download_target} exists and is not a regular file&quot;</span>)</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">if</span> os.path.isfile(download_target):</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">if</span> hashlib.sha256(open(download_target, <span class="stringliteral">&quot;rb&quot;</span>).read()).hexdigest() == expected_sha256:</div>
<div class="line"><span class="lineno">   85</span>            <span class="keywordflow">return</span> download_target</div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   87</span>            warnings.warn(f<span class="stringliteral">&quot;{download_target} exists, but the SHA256 checksum does not match; re-downloading the file&quot;</span>)</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="keyword">with</span> urllib.request.urlopen(url) <span class="keyword">as</span> source, open(download_target, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> output:</div>
<div class="line"><span class="lineno">   90</span>        <span class="keyword">with</span> tqdm(total=int(source.info().get(<span class="stringliteral">&quot;Content-Length&quot;</span>)), ncols=80, unit=<span class="stringliteral">&#39;iB&#39;</span>, unit_scale=<span class="keyword">True</span>, unit_divisor=1024) <span class="keyword">as</span> loop:</div>
<div class="line"><span class="lineno">   91</span>            <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">   92</span>                buffer = source.read(8192)</div>
<div class="line"><span class="lineno">   93</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> buffer:</div>
<div class="line"><span class="lineno">   94</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>                output.write(buffer)</div>
<div class="line"><span class="lineno">   97</span>                loop.update(len(buffer))</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">if</span> hashlib.sha256(open(download_target, <span class="stringliteral">&quot;rb&quot;</span>).read()).hexdigest() != expected_sha256:</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&quot;Model has been downloaded but the SHA256 checksum does not not match&quot;</span>)</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">return</span> download_target</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceclip_1_1clip_a4552ed95f75ae2373bfe34672feb1644_icgraph.png" border="0" usemap="#anamespaceclip_1_1clip_a4552ed95f75ae2373bfe34672feb1644_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a60e2bbfd64efea3fcc84b04b30e90dba" name="a60e2bbfd64efea3fcc84b04b30e90dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e2bbfd64efea3fcc84b04b30e90dba">&#9670;&#160;</a></span>_transform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">clip.clip._transform </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n_px</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a preprocessing pipeline for images. </p>
<p>The pipeline includes resizing, cropping, converting to RGB, and normalization. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_px</td><td>The target size for resizing and cropping images. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Compose object that applies resizing, cropping, RGB conversion, and normalization to input images. </dd></dl>

<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00115">115</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span><span class="keyword">def </span>_transform(n_px):</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">return</span> Compose([</div>
<div class="line"><span class="lineno">  117</span>        Resize(n_px, interpolation=BICUBIC),</div>
<div class="line"><span class="lineno">  118</span>        CenterCrop(n_px),</div>
<div class="line"><span class="lineno">  119</span>        _convert_image_to_rgb,</div>
<div class="line"><span class="lineno">  120</span>        ToTensor(),</div>
<div class="line"><span class="lineno">  121</span>        Normalize((0.48145466, 0.4578275, 0.40821073), (0.26862954, 0.26130258, 0.27577711)),</div>
<div class="line"><span class="lineno">  122</span>    ])</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span><span class="comment"># Public functions</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceclip_1_1clip_a60e2bbfd64efea3fcc84b04b30e90dba_icgraph.png" border="0" usemap="#anamespaceclip_1_1clip_a60e2bbfd64efea3fcc84b04b30e90dba_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="af1e29480bb03a4152c2c3dbc0ba6e5f4" name="af1e29480bb03a4152c2c3dbc0ba6e5f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1e29480bb03a4152c2c3dbc0ba6e5f4">&#9670;&#160;</a></span>available_models()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[str] clip.clip.available_models </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists the names of available pre-trained CLIP models. </p>
<dl class="section return"><dt>Returns</dt><dd>A list of strings representing the names of the available models.</dd></dl>
<pre class="fragment">Returns the names of available CLIP models</pre> 
<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00127">127</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  127</span><span class="keyword">def </span>available_models() -&gt; List[str]:</div>
<div class="line"><span class="lineno">  128</span>    <span class="stringliteral">&quot;&quot;&quot;Returns the names of available CLIP models&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">return</span> list(_MODELS.keys())</div>
<div class="line"><span class="lineno">  130</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ada9638365db32df0a68806aa2554b186" name="ada9638365db32df0a68806aa2554b186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada9638365db32df0a68806aa2554b186">&#9670;&#160;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clip.clip.load </td>
          <td>(</td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[str, torch.device] </td>          <td class="paramname"><span class="paramname"><em>device</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;cuda&quot;&#160;if&#160;torch.cuda.is_available()&#160;else&#160;&quot;cpu&quot;</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>jit</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str </td>          <td class="paramname"><span class="paramname"><em>download_root</em></span><span class="paramdefsep"> = </span><span class="paramdefval">None</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a CLIP model. </p>
<p>Handles downloading the model weights, loading them into memory, and preparing the model for inference. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the model to load or the path to a model checkpoint file. </td></tr>
    <tr><td class="paramname">device</td><td>The device to load the model onto (default: "cuda" if available, otherwise "cpu"). </td></tr>
    <tr><td class="paramname">jit</td><td>Whether to load the optimized JIT model or the more hackable non-JIT version. </td></tr>
    <tr><td class="paramname">download_root</td><td>The directory to save downloaded model files (default: "~/.cache/clip"). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple containing the loaded model (torch.nn.Module) and a preprocessing pipeline (Callable).</dd></dl>
<pre class="fragment">Load a CLIP model

Parameters
----------
name : str
    A model name listed by `clip.available_models()`, or the path to a model checkpoint containing the state_dict

device : Union[str, torch.device]
    The device to put the loaded model

jit : bool
    Whether to load the optimized JIT model or more hackable non-JIT model (default).

download_root: str
    path to download the model files; by default, it uses "~/.cache/clip"

Returns
-------
model : torch.nn.Module
    The CLIP model

preprocess : Callable[[PIL.Image], torch.Tensor]
    A torchvision transform that converts a PIL image into a tensor that the returned model can take as its input
</pre> 
<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00138">138</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  138</span><span class="keyword">def </span>load(name: str, device: Union[str, torch.device] = <span class="stringliteral">&quot;cuda&quot;</span> <span class="keywordflow">if</span> torch.cuda.is_available() <span class="keywordflow">else</span> <span class="stringliteral">&quot;cpu&quot;</span>, jit: bool = <span class="keyword">False</span>, download_root: str = <span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  139</span>    <span class="stringliteral">&quot;&quot;&quot;Load a CLIP model</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral">    name : str</span></div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">        A model name listed by `clip.available_models()`, or the path to a model checkpoint containing the state_dict</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">    device : Union[str, torch.device]</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">        The device to put the loaded model</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">    jit : bool</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">        Whether to load the optimized JIT model or more hackable non-JIT model (default).</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">    download_root: str</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">        path to download the model files; by default, it uses &quot;~/.cache/clip&quot;</span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">    model : torch.nn.Module</span></div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral">        The CLIP model</span></div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral">    preprocess : Callable[[PIL.Image], torch.Tensor]</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral">        A torchvision transform that converts a PIL image into a tensor that the returned model can take as its input</span></div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">if</span> name <span class="keywordflow">in</span> _MODELS:</div>
<div class="line"><span class="lineno">  164</span>        model_path = _download(_MODELS[name], download_root <span class="keywordflow">or</span> os.path.expanduser(<span class="stringliteral">&quot;~/.cache/clip&quot;</span>))</div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordflow">elif</span> os.path.isfile(name):</div>
<div class="line"><span class="lineno">  166</span>        model_path = name</div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">raise</span> RuntimeError(f<span class="stringliteral">&quot;Model {name} not found; available models = {available_models()}&quot;</span>)</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <span class="keyword">with</span> open(model_path, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> opened_file:</div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  172</span>            <span class="comment"># loading JIT archive</span></div>
<div class="line"><span class="lineno">  173</span>            model = torch.jit.load(opened_file, map_location=device <span class="keywordflow">if</span> jit <span class="keywordflow">else</span> <span class="stringliteral">&quot;cpu&quot;</span>).eval()</div>
<div class="line"><span class="lineno">  174</span>            state_dict = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordflow">except</span> RuntimeError:</div>
<div class="line"><span class="lineno">  176</span>            <span class="comment"># loading saved state dict</span></div>
<div class="line"><span class="lineno">  177</span>            <span class="keywordflow">if</span> jit:</div>
<div class="line"><span class="lineno">  178</span>                warnings.warn(f<span class="stringliteral">&quot;File {model_path} is not a JIT archive. Loading as a state dict instead&quot;</span>)</div>
<div class="line"><span class="lineno">  179</span>                jit = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  180</span>            state_dict = torch.load(opened_file, map_location=<span class="stringliteral">&quot;cpu&quot;</span>)</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> jit:</div>
<div class="line"><span class="lineno">  183</span>        model = build_model(state_dict <span class="keywordflow">or</span> model.state_dict()).to(device)</div>
<div class="line"><span class="lineno">  184</span>        <span class="keywordflow">if</span> str(device) == <span class="stringliteral">&quot;cpu&quot;</span>:</div>
<div class="line"><span class="lineno">  185</span>            model.float()</div>
<div class="line"><span class="lineno">  186</span>        <span class="keywordflow">return</span> model, _transform(model.visual.input_resolution)</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="comment"># patch the device names</span></div>
<div class="line"><span class="lineno">  189</span>    device_holder = torch.jit.trace(<span class="keyword">lambda</span>: torch.ones([]).to(torch.device(device)), example_inputs=[])</div>
<div class="line"><span class="lineno">  190</span>    device_node = [n <span class="keywordflow">for</span> n <span class="keywordflow">in</span> device_holder.graph.findAllNodes(<span class="stringliteral">&quot;prim::Constant&quot;</span>) <span class="keywordflow">if</span> <span class="stringliteral">&quot;Device&quot;</span> <span class="keywordflow">in</span> repr(n)][-1]</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    <span class="keyword">def </span>_node_get(node: torch._C.Node, key: str):</div>
<div class="line"><span class="lineno">  193</span>        <span class="stringliteral">&quot;&quot;&quot;Gets attributes of a node which is polymorphic over return type.</span></div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">        </span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">        From https://github.com/pytorch/pytorch/pull/82628</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  197</span>        sel = node.kindOf(key)</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">return</span> getattr(node, sel)(key)</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>    <span class="keyword">def </span>patch_device(module):</div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  202</span>            graphs = [module.graph] <span class="keywordflow">if</span> hasattr(module, <span class="stringliteral">&quot;graph&quot;</span>) <span class="keywordflow">else</span> []</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">except</span> RuntimeError:</div>
<div class="line"><span class="lineno">  204</span>            graphs = []</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordflow">if</span> hasattr(module, <span class="stringliteral">&quot;forward1&quot;</span>):</div>
<div class="line"><span class="lineno">  207</span>            graphs.append(module.forward1.graph)</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordflow">for</span> graph <span class="keywordflow">in</span> graphs:</div>
<div class="line"><span class="lineno">  210</span>            <span class="keywordflow">for</span> node <span class="keywordflow">in</span> graph.findAllNodes(<span class="stringliteral">&quot;prim::Constant&quot;</span>):</div>
<div class="line"><span class="lineno">  211</span>                <span class="keywordflow">if</span> <span class="stringliteral">&quot;value&quot;</span> <span class="keywordflow">in</span> node.attributeNames() <span class="keywordflow">and</span> str(_node_get(node, <span class="stringliteral">&quot;value&quot;</span>)).startswith(<span class="stringliteral">&quot;cuda&quot;</span>):</div>
<div class="line"><span class="lineno">  212</span>                    node.copyAttributes(device_node)</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    model.apply(patch_device)</div>
<div class="line"><span class="lineno">  215</span>    patch_device(model.encode_image)</div>
<div class="line"><span class="lineno">  216</span>    patch_device(model.encode_text)</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>    <span class="comment"># patch dtype to float32 on CPU</span></div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">if</span> str(device) == <span class="stringliteral">&quot;cpu&quot;</span>:</div>
<div class="line"><span class="lineno">  220</span>        float_holder = torch.jit.trace(<span class="keyword">lambda</span>: torch.ones([]).float(), example_inputs=[])</div>
<div class="line"><span class="lineno">  221</span>        float_input = list(float_holder.graph.findNode(<span class="stringliteral">&quot;aten::to&quot;</span>).inputs())[1]</div>
<div class="line"><span class="lineno">  222</span>        float_node = float_input.node()</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>        <span class="keyword">def </span>patch_float(module):</div>
<div class="line"><span class="lineno">  225</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  226</span>                graphs = [module.graph] <span class="keywordflow">if</span> hasattr(module, <span class="stringliteral">&quot;graph&quot;</span>) <span class="keywordflow">else</span> []</div>
<div class="line"><span class="lineno">  227</span>            <span class="keywordflow">except</span> RuntimeError:</div>
<div class="line"><span class="lineno">  228</span>                graphs = []</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>            <span class="keywordflow">if</span> hasattr(module, <span class="stringliteral">&quot;forward1&quot;</span>):</div>
<div class="line"><span class="lineno">  231</span>                graphs.append(module.forward1.graph)</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>            <span class="keywordflow">for</span> graph <span class="keywordflow">in</span> graphs:</div>
<div class="line"><span class="lineno">  234</span>                <span class="keywordflow">for</span> node <span class="keywordflow">in</span> graph.findAllNodes(<span class="stringliteral">&quot;aten::to&quot;</span>):</div>
<div class="line"><span class="lineno">  235</span>                    inputs = list(node.inputs())</div>
<div class="line"><span class="lineno">  236</span>                    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [1, 2]:  <span class="comment"># dtype can be the second or third argument to aten::to()</span></div>
<div class="line"><span class="lineno">  237</span>                        <span class="keywordflow">if</span> _node_get(inputs[i].node(), <span class="stringliteral">&quot;value&quot;</span>) == 5:</div>
<div class="line"><span class="lineno">  238</span>                            inputs[i].node().copyAttributes(float_node)</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>        model.apply(patch_float)</div>
<div class="line"><span class="lineno">  241</span>        patch_float(model.encode_image)</div>
<div class="line"><span class="lineno">  242</span>        patch_float(model.encode_text)</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>        model.float()</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">return</span> model, _transform(model.input_resolution.item())</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceclip_1_1clip_ada9638365db32df0a68806aa2554b186_cgraph.png" border="0" usemap="#anamespaceclip_1_1clip_ada9638365db32df0a68806aa2554b186_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a36a01501a3d7c1632f3ddc785e8b8eb3" name="a36a01501a3d7c1632f3ddc785e8b8eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36a01501a3d7c1632f3ddc785e8b8eb3">&#9670;&#160;</a></span>tokenize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Union[torch.IntTensor, torch.LongTensor] clip.clip.tokenize </td>
          <td>(</td>
          <td class="paramtype">Union[str, List[str]]</td>          <td class="paramname"><span class="paramname"><em>texts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int </td>          <td class="paramname"><span class="paramname"><em>context_length</em></span><span class="paramdefsep"> = </span><span class="paramdefval">77</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool </td>          <td class="paramname"><span class="paramname"><em>truncate</em></span><span class="paramdefsep"> = </span><span class="paramdefval">False</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tokenizes input text(s) for use with CLIP models. </p>
<p>This function converts input strings into tokenized representations that are padded or truncated to match the required <code>context_length</code>. Start-of-text and end-of-text tokens are added automatically. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">texts</td><td>A single string or a list of strings to tokenize. </td></tr>
    <tr><td class="paramname">context_length</td><td>The maximum length for tokenization (default: 77). </td></tr>
    <tr><td class="paramname">truncate</td><td>Whether to truncate text if it exceeds the context length (default: False). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A 2D tensor with shape [number of input strings, context_length], containing tokenized text inputs. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>If a text input exceeds <code>context_length</code> and truncation is disabled.</td></tr>
  </table>
  </dd>
</dl>
<pre class="fragment">Returns the tokenized representation of given input string(s)

Parameters
----------
texts : Union[str, List[str]]
    An input string or a list of input strings to tokenize

context_length : int
    The context length to use; all CLIP models use 77 as the context length

truncate: bool
    Whether to truncate the text in case its encoding is longer than the context length

Returns
-------
A two-dimensional tensor containing the resulting tokens, shape = [number of input strings, context_length].
We return LongTensor when torch version is &lt;1.8.0, since older index_select requires indices to be long.
</pre> 
<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00257">257</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  257</span><span class="keyword">def </span>tokenize(texts: Union[str, List[str]], context_length: int = 77, truncate: bool = <span class="keyword">False</span>) -&gt; Union[torch.IntTensor, torch.LongTensor]:</div>
<div class="line"><span class="lineno">  258</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">    Returns the tokenized representation of given input string(s)</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">    texts : Union[str, List[str]]</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral">        An input string or a list of input strings to tokenize</span></div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral">    context_length : int</span></div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">        The context length to use; all CLIP models use 77 as the context length</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">    truncate: bool</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">        Whether to truncate the text in case its encoding is longer than the context length</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  273</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  274</span><span class="stringliteral">    A two-dimensional tensor containing the resulting tokens, shape = [number of input strings, context_length].</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral">    We return LongTensor when torch version is &lt;1.8.0, since older index_select requires indices to be long.</span></div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">if</span> isinstance(texts, str):</div>
<div class="line"><span class="lineno">  278</span>        texts = [texts]</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>    sot_token = _tokenizer.encoder[<span class="stringliteral">&quot;&lt;|startoftext|&gt;&quot;</span>]</div>
<div class="line"><span class="lineno">  281</span>    eot_token = _tokenizer.encoder[<span class="stringliteral">&quot;&lt;|endoftext|&gt;&quot;</span>]</div>
<div class="line"><span class="lineno">  282</span>    all_tokens = [[sot_token] + _tokenizer.encode(text) + [eot_token] <span class="keywordflow">for</span> text <span class="keywordflow">in</span> texts]</div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordflow">if</span> version.parse(torch.__version__) &lt; version.parse(<span class="stringliteral">&quot;1.8.0&quot;</span>):</div>
<div class="line"><span class="lineno">  284</span>        result = torch.zeros(len(all_tokens), context_length, dtype=torch.long)</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  286</span>        result = torch.zeros(len(all_tokens), context_length, dtype=torch.int)</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">for</span> i, tokens <span class="keywordflow">in</span> enumerate(all_tokens):</div>
<div class="line"><span class="lineno">  289</span>        <span class="keywordflow">if</span> len(tokens) &gt; context_length:</div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">if</span> truncate:</div>
<div class="line"><span class="lineno">  291</span>                tokens = tokens[:context_length]</div>
<div class="line"><span class="lineno">  292</span>                tokens[-1] = eot_token</div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  294</span>                <span class="keywordflow">raise</span> RuntimeError(f<span class="stringliteral">&quot;Input {texts[i]} is too long for context length {context_length}&quot;</span>)</div>
<div class="line"><span class="lineno">  295</span>        result[i, :len(tokens)] = torch.tensor(tokens)</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">return</span> result</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a08c0656583a40bb7efbd1d6683627d73" name="a08c0656583a40bb7efbd1d6683627d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08c0656583a40bb7efbd1d6683627d73">&#9670;&#160;</a></span>__all__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list clip.clip.__all__ = [&quot;available_models&quot;, &quot;load&quot;, &quot;tokenize&quot;]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00049">49</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>

</div>
</div>
<a id="a414e1aa5cd9650d22dea529ffb6c8625" name="a414e1aa5cd9650d22dea529ffb6c8625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a414e1aa5cd9650d22dea529ffb6c8625">&#9670;&#160;</a></span>_MODELS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict clip.clip._MODELS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;RN50&quot;</span>: <span class="stringliteral">&quot;https://openaipublic.azureedge.net/clip/models/afeb0e10f9e5a86da6080e35cf09123aca3b358a0c3e3b6c78a7b63bc04b6762/RN50.pt&quot;</span>,</div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;RN101&quot;</span>: <span class="stringliteral">&quot;https://openaipublic.azureedge.net/clip/models/8fa8567bab74a42d41c5915025a8e4538c3bdbe8804a470a72f30b0d94fab599/RN101.pt&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>    <span class="stringliteral">&quot;RN50x4&quot;</span>: <span class="stringliteral">&quot;https://openaipublic.azureedge.net/clip/models/7e526bd135e493cef0776de27d5f42653e6b4c8bf9e0f653bb11773263205fdd/RN50x4.pt&quot;</span>,</div>
<div class="line"><span class="lineno">    5</span>    <span class="stringliteral">&quot;RN50x16&quot;</span>: <span class="stringliteral">&quot;https://openaipublic.azureedge.net/clip/models/52378b407f34354e150460fe41077663dd5b39c54cd0bfd2b27167a4a06ec9aa/RN50x16.pt&quot;</span>,</div>
<div class="line"><span class="lineno">    6</span>    <span class="stringliteral">&quot;RN50x64&quot;</span>: <span class="stringliteral">&quot;https://openaipublic.azureedge.net/clip/models/be1cfb55d75a9666199fb2206c106743da0f6468c9d327f3e0d0a543a9919d9c/RN50x64.pt&quot;</span>,</div>
<div class="line"><span class="lineno">    7</span>    <span class="stringliteral">&quot;ViT-B/32&quot;</span>: <span class="stringliteral">&quot;https://openaipublic.azureedge.net/clip/models/40d365715913c9da98579312b702a82c18be219cc2a73407c4526f58eba950af/ViT-B-32.pt&quot;</span>,</div>
<div class="line"><span class="lineno">    8</span>    <span class="stringliteral">&quot;ViT-B/16&quot;</span>: <span class="stringliteral">&quot;https://openaipublic.azureedge.net/clip/models/5806e77cd80f8b59890b7e101eabd078d9fb84e6937f9e85e4ecb61988df416f/ViT-B-16.pt&quot;</span>,</div>
<div class="line"><span class="lineno">    9</span>    <span class="stringliteral">&quot;ViT-L/14&quot;</span>: <span class="stringliteral">&quot;https://openaipublic.azureedge.net/clip/models/b8cca3fd41ae0c99ba7e8951adf17d267cdb84cd88be6f7c2e0eca1737a03836/ViT-L-14.pt&quot;</span>,</div>
<div class="line"><span class="lineno">   10</span>    <span class="stringliteral">&quot;ViT-L/14@336px&quot;</span>: <span class="stringliteral">&quot;https://openaipublic.azureedge.net/clip/models/3035c92b350959924f9f00213499208652fc7ea050643e8b385c2dac08641f02/ViT-L-14-336px.pt&quot;</span>,</div>
<div class="line"><span class="lineno">   11</span>}</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00052">52</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>

</div>
</div>
<a id="a17b88d157d1798d253cbe86f34466ae2" name="a17b88d157d1798d253cbe86f34466ae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17b88d157d1798d253cbe86f34466ae2">&#9670;&#160;</a></span>_tokenizer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">clip.clip._tokenizer = _Tokenizer()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00050">50</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>

</div>
</div>
<a id="a28c010f6f72c2bdea5c8cdbf0d0c18bb" name="a28c010f6f72c2bdea5c8cdbf0d0c18bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28c010f6f72c2bdea5c8cdbf0d0c18bb">&#9670;&#160;</a></span>BICUBIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clip.clip.BICUBIC = InterpolationMode.BICUBIC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="clip_8py_source.html#l00036">36</a> of file <a class="el" href="clip_8py_source.html">clip.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceclip.html">clip</a></li><li class="navelem"><a class="el" href="namespaceclip_1_1clip.html">clip</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0 </li>
  </ul>
</div>
</body>
</html>
