\doxysection{builder.\+py}
\hypertarget{multimodal__encoder_2builder_8py_source}{}\label{multimodal__encoder_2builder_8py_source}\index{multimodal\_encoder/builder.py@{multimodal\_encoder/builder.py}}
\mbox{\hyperlink{multimodal__encoder_2builder_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00001}\mbox{\hyperlink{namespacebuilder}{00001}}\ }
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00010}00010\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00011}00011\ \textcolor{keyword}{from}\ .clip\_encoder\ \textcolor{keyword}{import}\ CLIPVisionTower,\ CLIPVisionTowerS2}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00021}\mbox{\hyperlink{namespacebuilder_a93c1daec82af6246104462e245df1585}{00021}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacebuilder_a93c1daec82af6246104462e245df1585}{build\_vision\_tower}}(vision\_tower\_cfg,\ **kwargs):}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00022}00022\ \ \ \ \ vision\_tower\ =\ getattr(vision\_tower\_cfg,\ \textcolor{stringliteral}{'mm\_vision\_tower'},\ getattr(vision\_tower\_cfg,\ \textcolor{stringliteral}{'vision\_tower'},\ \textcolor{keywordtype}{None}))}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00023}00023\ \ \ \ \ is\_absolute\_path\_exists\ =\ os.path.exists(vision\_tower)}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00024}00024\ \ \ \ \ use\_s2\ =\ getattr(vision\_tower\_cfg,\ \textcolor{stringliteral}{'s2'},\ \textcolor{keyword}{False})}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00025}00025\ \ \ \ \ \textcolor{keywordflow}{if}\ is\_absolute\_path\_exists\ \textcolor{keywordflow}{or}\ vision\_tower.startswith(\textcolor{stringliteral}{"{}openai"{}})\ \textcolor{keywordflow}{or}\ vision\_tower.startswith(\textcolor{stringliteral}{"{}laion"{}})\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{"{}ShareGPT4V"{}}\ \textcolor{keywordflow}{in}\ vision\_tower:}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ use\_s2:}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00027}00027\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classclip__encoder_1_1_c_l_i_p_vision_tower_s2}{CLIPVisionTowerS2}}(vision\_tower,\ args=vision\_tower\_cfg,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classclip__encoder_1_1_c_l_i_p_vision_tower}{CLIPVisionTower}}(vision\_tower,\ args=vision\_tower\_cfg,\ **kwargs)}
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00030}00030\ }
\DoxyCodeLine{\Hypertarget{multimodal__encoder_2builder_8py_source_l00031}00031\ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(f\textcolor{stringliteral}{'Unknown\ vision\ tower:\ \{vision\_tower\}'})}

\end{DoxyCode}
