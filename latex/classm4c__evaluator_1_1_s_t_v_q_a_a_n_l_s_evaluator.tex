\doxysection{m4c\+\_\+evaluator.\+STVQAANLSEvaluator Class Reference}
\hypertarget{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator}{}\label{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator}\index{m4c\_evaluator.STVQAANLSEvaluator@{m4c\_evaluator.STVQAANLSEvaluator}}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_ae5c6ea171ff945123eb8562929a2af1a}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\item 
\mbox{\hyperlink{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_a7bbf8a00a03d5409d4770f654ebf7b89}{get\+\_\+anls}} (self, s1, s2)
\item 
\mbox{\hyperlink{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_ad7f50e7130af1c49b2b4bdc76208c1dd}{eval\+\_\+pred\+\_\+list}} (self, pred\+\_\+list)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_ac6e03cba2a6b16714b8d6d845a3d7119}{get\+\_\+edit\+\_\+distance}} = editdistance.\+eval
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{m4c__evaluator_8py_source_l00276}{276}} of file \mbox{\hyperlink{m4c__evaluator_8py_source}{m4c\+\_\+evaluator.\+py}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_ae5c6ea171ff945123eb8562929a2af1a}\index{m4c\_evaluator.STVQAANLSEvaluator@{m4c\_evaluator.STVQAANLSEvaluator}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!m4c\_evaluator.STVQAANLSEvaluator@{m4c\_evaluator.STVQAANLSEvaluator}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_ae5c6ea171ff945123eb8562929a2af1a} 
m4c\+\_\+evaluator.\+STVQAANLSEvaluator.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{m4c__evaluator_8py_source_l00277}{277}} of file \mbox{\hyperlink{m4c__evaluator_8py_source}{m4c\+\_\+evaluator.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00277\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self):}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \textcolor{keyword}{import}\ editdistance\ \ \textcolor{comment}{\#\ install\ with\ \`{}pip\ install\ editdistance`}}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ self.get\_edit\_distance\ =\ editdistance.eval}
\DoxyCodeLine{00281\ }

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_ad7f50e7130af1c49b2b4bdc76208c1dd}\index{m4c\_evaluator.STVQAANLSEvaluator@{m4c\_evaluator.STVQAANLSEvaluator}!eval\_pred\_list@{eval\_pred\_list}}
\index{eval\_pred\_list@{eval\_pred\_list}!m4c\_evaluator.STVQAANLSEvaluator@{m4c\_evaluator.STVQAANLSEvaluator}}
\doxysubsubsection{\texorpdfstring{eval\_pred\_list()}{eval\_pred\_list()}}
{\footnotesize\ttfamily \label{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_ad7f50e7130af1c49b2b4bdc76208c1dd} 
m4c\+\_\+evaluator.\+STVQAANLSEvaluator.\+eval\+\_\+pred\+\_\+list (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{pred\+\_\+list}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{m4c__evaluator_8py_source_l00289}{289}} of file \mbox{\hyperlink{m4c__evaluator_8py_source}{m4c\+\_\+evaluator.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{keyword}{def\ }eval\_pred\_list(self,\ pred\_list):}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ pred\_scores\ =\ []}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ entry\ \textcolor{keywordflow}{in}\ pred\_list:}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ anls\ =\ max(}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.get\_anls(entry[\textcolor{stringliteral}{"{}pred\_answer"{}}],\ gt)\ \textcolor{keywordflow}{for}\ gt\ \textcolor{keywordflow}{in}\ entry[\textcolor{stringliteral}{"{}gt\_answers"{}}]}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ pred\_scores.append(anls)}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ accuracy\ =\ sum(pred\_scores)\ /\ len(pred\_scores)}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ accuracy}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ }

\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 0
\Hypertarget{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_a7bbf8a00a03d5409d4770f654ebf7b89}\index{m4c\_evaluator.STVQAANLSEvaluator@{m4c\_evaluator.STVQAANLSEvaluator}!get\_anls@{get\_anls}}
\index{get\_anls@{get\_anls}!m4c\_evaluator.STVQAANLSEvaluator@{m4c\_evaluator.STVQAANLSEvaluator}}
\doxysubsubsection{\texorpdfstring{get\_anls()}{get\_anls()}}
{\footnotesize\ttfamily \label{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_a7bbf8a00a03d5409d4770f654ebf7b89} 
m4c\+\_\+evaluator.\+STVQAANLSEvaluator.\+get\+\_\+anls (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{s1}{, }\item[{}]{s2}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{m4c__evaluator_8py_source_l00282}{282}} of file \mbox{\hyperlink{m4c__evaluator_8py_source}{m4c\+\_\+evaluator.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00282\ \ \ \ \ \textcolor{keyword}{def\ }get\_anls(self,\ s1,\ s2):}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ s1\ =\ s1.lower().strip()}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ s2\ =\ s2.lower().strip()}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ iou\ =\ 1\ -\/\ self.get\_edit\_distance(s1,\ s2)\ /\ max(len(s1),\ len(s2))}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ anls\ =\ iou\ \textcolor{keywordflow}{if}\ iou\ >=\ 0.5\ \textcolor{keywordflow}{else}\ 0.0}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ anls}
\DoxyCodeLine{00288\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
% FIG 1


\doxysubsection{Member Data Documentation}
\Hypertarget{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_ac6e03cba2a6b16714b8d6d845a3d7119}\index{m4c\_evaluator.STVQAANLSEvaluator@{m4c\_evaluator.STVQAANLSEvaluator}!get\_edit\_distance@{get\_edit\_distance}}
\index{get\_edit\_distance@{get\_edit\_distance}!m4c\_evaluator.STVQAANLSEvaluator@{m4c\_evaluator.STVQAANLSEvaluator}}
\doxysubsubsection{\texorpdfstring{get\_edit\_distance}{get\_edit\_distance}}
{\footnotesize\ttfamily \label{classm4c__evaluator_1_1_s_t_v_q_a_a_n_l_s_evaluator_ac6e03cba2a6b16714b8d6d845a3d7119} 
m4c\+\_\+evaluator.\+STVQAANLSEvaluator.\+get\+\_\+edit\+\_\+distance = editdistance.\+eval}



Definition at line \mbox{\hyperlink{m4c__evaluator_8py_source_l00280}{280}} of file \mbox{\hyperlink{m4c__evaluator_8py_source}{m4c\+\_\+evaluator.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
llava/eval/\mbox{\hyperlink{m4c__evaluator_8py}{m4c\+\_\+evaluator.\+py}}\end{DoxyCompactItemize}
