\doxysection{model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset Class Reference}
\hypertarget{classmodel__vqa__loader_1_1_custom_dataset}{}\label{classmodel__vqa__loader_1_1_custom_dataset}\index{model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}}


Inheritance diagram for model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset\+:
% FIG 0


Collaboration diagram for model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset\+:
% FIG 1
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_ab2459f7f302238884fa4fd91ba4aa926}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, \mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_a922a68cb331efff2388dcffed1ac0bdc}{questions}}, \mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_a3e2e61a67331c91ee137b873d7715a68}{image\+\_\+folder}}, \mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_ae82e5fb0e0b014550fa97728c5d4729d}{tokenizer}}, \mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_a4ff15bca89e76f2372e235711c5d22ed}{image\+\_\+processor}}, \mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_a8ba3c5b1077d3b0c5a26c7d695975b1e}{model\+\_\+config}})
\item 
\mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_ad2adfe29af5dbb1dd90fa7363fa327fa}{\+\_\+\+\_\+getitem\+\_\+\+\_\+}} (self, index)
\item 
\mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_ab8bb08989d0c07810166740d51a8fe7f}{\+\_\+\+\_\+len\+\_\+\+\_\+}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_a922a68cb331efff2388dcffed1ac0bdc}{questions}} = questions
\item 
\mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_a3e2e61a67331c91ee137b873d7715a68}{image\+\_\+folder}} = image\+\_\+folder
\item 
\mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_ae82e5fb0e0b014550fa97728c5d4729d}{tokenizer}} = tokenizer
\item 
\mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_a4ff15bca89e76f2372e235711c5d22ed}{image\+\_\+processor}} = image\+\_\+processor
\item 
\mbox{\hyperlink{classmodel__vqa__loader_1_1_custom_dataset_a8ba3c5b1077d3b0c5a26c7d695975b1e}{model\+\_\+config}} = model\+\_\+config
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{model__vqa__loader_8py_source_l00031}{31}} of file \mbox{\hyperlink{model__vqa__loader_8py_source}{model\+\_\+vqa\+\_\+loader.\+py}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classmodel__vqa__loader_1_1_custom_dataset_ab2459f7f302238884fa4fd91ba4aa926}\index{model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{classmodel__vqa__loader_1_1_custom_dataset_ab2459f7f302238884fa4fd91ba4aa926} 
model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{questions}{, }\item[{}]{image\+\_\+folder}{, }\item[{}]{tokenizer}{, }\item[{}]{image\+\_\+processor}{, }\item[{}]{model\+\_\+config}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{model__vqa__loader_8py_source_l00032}{32}} of file \mbox{\hyperlink{model__vqa__loader_8py_source}{model\+\_\+vqa\+\_\+loader.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ questions,\ image\_folder,\ tokenizer,\ image\_processor,\ model\_config):}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ self.questions\ =\ questions}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ self.image\_folder\ =\ image\_folder}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ self.tokenizer\ =\ tokenizer}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ self.image\_processor\ =\ image\_processor}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ self.model\_config\ =\ model\_config}
\DoxyCodeLine{00038\ }

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classmodel__vqa__loader_1_1_custom_dataset_ad2adfe29af5dbb1dd90fa7363fa327fa}\index{model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}!\_\_getitem\_\_@{\_\_getitem\_\_}}
\index{\_\_getitem\_\_@{\_\_getitem\_\_}!model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}}
\doxysubsubsection{\texorpdfstring{\_\_getitem\_\_()}{\_\_getitem\_\_()}}
{\footnotesize\ttfamily \label{classmodel__vqa__loader_1_1_custom_dataset_ad2adfe29af5dbb1dd90fa7363fa327fa} 
model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset.\+\_\+\+\_\+getitem\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{index}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{model__vqa__loader_8py_source_l00039}{39}} of file \mbox{\hyperlink{model__vqa__loader_8py_source}{model\+\_\+vqa\+\_\+loader.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{def\ }\_\_getitem\_\_(self,\ index):}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ line\ =\ self.questions[index]}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ image\_file\ =\ line[\textcolor{stringliteral}{"{}image"{}}]}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ qs\ =\ line[\textcolor{stringliteral}{"{}text"{}}]}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.model\_config.mm\_use\_im\_start\_end:}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ qs\ =\ DEFAULT\_IM\_START\_TOKEN\ +\ DEFAULT\_IMAGE\_TOKEN\ +\ DEFAULT\_IM\_END\_TOKEN\ +\ \textcolor{stringliteral}{'\(\backslash\)n'}\ +\ qs}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ qs\ =\ DEFAULT\_IMAGE\_TOKEN\ +\ \textcolor{stringliteral}{'\(\backslash\)n'}\ +\ qs}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ conv\ =\ conv\_templates[args.conv\_mode].copy()}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ conv.append\_message(conv.roles[0],\ qs)}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ conv.append\_message(conv.roles[1],\ \textcolor{keywordtype}{None})}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ prompt\ =\ conv.get\_prompt()}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ image\ =\ Image.open(os.path.join(self.image\_folder,\ image\_file)).convert(\textcolor{stringliteral}{'RGB'})}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ image\_tensor\ =\ process\_images([image],\ self.image\_processor,\ self.model\_config)[0]}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ input\_ids\ =\ tokenizer\_image\_token(prompt,\ self.tokenizer,\ IMAGE\_TOKEN\_INDEX,\ return\_tensors=\textcolor{stringliteral}{'pt'})}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ input\_ids,\ image\_tensor,\ image.size}
\DoxyCodeLine{00059\ }

\end{DoxyCode}
\Hypertarget{classmodel__vqa__loader_1_1_custom_dataset_ab8bb08989d0c07810166740d51a8fe7f}\index{model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}!\_\_len\_\_@{\_\_len\_\_}}
\index{\_\_len\_\_@{\_\_len\_\_}!model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}}
\doxysubsubsection{\texorpdfstring{\_\_len\_\_()}{\_\_len\_\_()}}
{\footnotesize\ttfamily \label{classmodel__vqa__loader_1_1_custom_dataset_ab8bb08989d0c07810166740d51a8fe7f} 
model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset.\+\_\+\+\_\+len\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{model__vqa__loader_8py_source_l00060}{60}} of file \mbox{\hyperlink{model__vqa__loader_8py_source}{model\+\_\+vqa\+\_\+loader.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{def\ }\_\_len\_\_(self):}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ len(self.questions)}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ }

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{classmodel__vqa__loader_1_1_custom_dataset_a3e2e61a67331c91ee137b873d7715a68}\index{model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}!image\_folder@{image\_folder}}
\index{image\_folder@{image\_folder}!model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}}
\doxysubsubsection{\texorpdfstring{image\_folder}{image\_folder}}
{\footnotesize\ttfamily \label{classmodel__vqa__loader_1_1_custom_dataset_a3e2e61a67331c91ee137b873d7715a68} 
model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset.\+image\+\_\+folder = image\+\_\+folder}



Definition at line \mbox{\hyperlink{model__vqa__loader_8py_source_l00034}{34}} of file \mbox{\hyperlink{model__vqa__loader_8py_source}{model\+\_\+vqa\+\_\+loader.\+py}}.

\Hypertarget{classmodel__vqa__loader_1_1_custom_dataset_a4ff15bca89e76f2372e235711c5d22ed}\index{model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}!image\_processor@{image\_processor}}
\index{image\_processor@{image\_processor}!model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}}
\doxysubsubsection{\texorpdfstring{image\_processor}{image\_processor}}
{\footnotesize\ttfamily \label{classmodel__vqa__loader_1_1_custom_dataset_a4ff15bca89e76f2372e235711c5d22ed} 
model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset.\+image\+\_\+processor = image\+\_\+processor}



Definition at line \mbox{\hyperlink{model__vqa__loader_8py_source_l00036}{36}} of file \mbox{\hyperlink{model__vqa__loader_8py_source}{model\+\_\+vqa\+\_\+loader.\+py}}.

\Hypertarget{classmodel__vqa__loader_1_1_custom_dataset_a8ba3c5b1077d3b0c5a26c7d695975b1e}\index{model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}!model\_config@{model\_config}}
\index{model\_config@{model\_config}!model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}}
\doxysubsubsection{\texorpdfstring{model\_config}{model\_config}}
{\footnotesize\ttfamily \label{classmodel__vqa__loader_1_1_custom_dataset_a8ba3c5b1077d3b0c5a26c7d695975b1e} 
model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset.\+model\+\_\+config = model\+\_\+config}



Definition at line \mbox{\hyperlink{model__vqa__loader_8py_source_l00037}{37}} of file \mbox{\hyperlink{model__vqa__loader_8py_source}{model\+\_\+vqa\+\_\+loader.\+py}}.

\Hypertarget{classmodel__vqa__loader_1_1_custom_dataset_a922a68cb331efff2388dcffed1ac0bdc}\index{model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}!questions@{questions}}
\index{questions@{questions}!model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}}
\doxysubsubsection{\texorpdfstring{questions}{questions}}
{\footnotesize\ttfamily \label{classmodel__vqa__loader_1_1_custom_dataset_a922a68cb331efff2388dcffed1ac0bdc} 
model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset.\+questions = questions}



Definition at line \mbox{\hyperlink{model__vqa__loader_8py_source_l00033}{33}} of file \mbox{\hyperlink{model__vqa__loader_8py_source}{model\+\_\+vqa\+\_\+loader.\+py}}.

\Hypertarget{classmodel__vqa__loader_1_1_custom_dataset_ae82e5fb0e0b014550fa97728c5d4729d}\index{model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}!tokenizer@{tokenizer}}
\index{tokenizer@{tokenizer}!model\_vqa\_loader.CustomDataset@{model\_vqa\_loader.CustomDataset}}
\doxysubsubsection{\texorpdfstring{tokenizer}{tokenizer}}
{\footnotesize\ttfamily \label{classmodel__vqa__loader_1_1_custom_dataset_ae82e5fb0e0b014550fa97728c5d4729d} 
model\+\_\+vqa\+\_\+loader.\+Custom\+Dataset.\+tokenizer = tokenizer}



Definition at line \mbox{\hyperlink{model__vqa__loader_8py_source_l00035}{35}} of file \mbox{\hyperlink{model__vqa__loader_8py_source}{model\+\_\+vqa\+\_\+loader.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
llava/eval/\mbox{\hyperlink{model__vqa__loader_8py}{model\+\_\+vqa\+\_\+loader.\+py}}\end{DoxyCompactItemize}
