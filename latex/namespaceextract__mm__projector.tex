\doxysection{extract\+\_\+mm\+\_\+projector Namespace Reference}
\hypertarget{namespaceextract__mm__projector}{}\label{namespaceextract__mm__projector}\index{extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceextract__mm__projector_a215dd54aa1ae8d25012b6c9410f28cc4}{parse\+\_\+args}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceextract__mm__projector_a266fac3974378dbcb7a064531d1d5faa}{args}} = \mbox{\hyperlink{namespaceextract__mm__projector_a215dd54aa1ae8d25012b6c9410f28cc4}{parse\+\_\+args}}()
\item 
list \mbox{\hyperlink{namespaceextract__mm__projector_a03fd68062ff9f1c13f5f0a5d045b7f40}{keys\+\_\+to\+\_\+match}} = \mbox{[}\textquotesingle{}mm\+\_\+projector\textquotesingle{}\mbox{]}
\item 
\mbox{\hyperlink{namespaceextract__mm__projector_ad57b43c48fdf88565945a7c6db51147b}{ckpt\+\_\+to\+\_\+key}} = defaultdict(list)
\item 
\mbox{\hyperlink{namespaceextract__mm__projector_a26ae4911a9eb45ceccb04093981bf7a0}{model\+\_\+indices}} = json.\+load(open(os.\+path.\+join(args.\+model\+\_\+path, \textquotesingle{}pytorch\+\_\+model.\+bin.\+index.\+json\textquotesingle{})))
\item 
str \mbox{\hyperlink{namespaceextract__mm__projector_a2e30138c44c9868642e07ea1aca087f1}{v}} = \textquotesingle{}pytorch\+\_\+model.\+bin\textquotesingle{}
\item 
\mbox{\hyperlink{namespaceextract__mm__projector_ac70624ace4b94fba7d1b30821616a240}{map\+\_\+location}}
\item 
dict \mbox{\hyperlink{namespaceextract__mm__projector_a25dd7a2db299b71b3211523925afafe1}{loaded\+\_\+weights}} = \{\}
\item 
\mbox{\hyperlink{namespaceextract__mm__projector_a54452b844058e75df00c04f9fb08f5ab}{ckpt}} = torch.\+load(os.\+path.\+join(args.\+model\+\_\+path, ckpt\+\_\+name), \mbox{\hyperlink{namespaceextract__mm__projector_ac70624ace4b94fba7d1b30821616a240}{map\+\_\+location}}=\textquotesingle{}cpu\textquotesingle{})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}This is just a utility that I use to extract the projector for quantized models.
It is NOT necessary at all to train, or run inference/serve demos.
Use this script ONLY if you fully understand its implications.
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespaceextract__mm__projector_a215dd54aa1ae8d25012b6c9410f28cc4}\index{extract\_mm\_projector@{extract\_mm\_projector}!parse\_args@{parse\_args}}
\index{parse\_args@{parse\_args}!extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection{\texorpdfstring{parse\_args()}{parse\_args()}}
{\footnotesize\ttfamily \label{namespaceextract__mm__projector_a215dd54aa1ae8d25012b6c9410f28cc4} 
extract\+\_\+mm\+\_\+projector.\+parse\+\_\+args (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{extract__mm__projector_8py_source_l00015}{15}} of file \mbox{\hyperlink{extract__mm__projector_8py_source}{extract\+\_\+mm\+\_\+projector.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00015\ \textcolor{keyword}{def\ }parse\_args():}
\DoxyCodeLine{00016\ \ \ \ \ parser\ =\ argparse.ArgumentParser(description=\textcolor{stringliteral}{'Extract\ MMProjector\ weights'})}
\DoxyCodeLine{00017\ \ \ \ \ parser.add\_argument(\textcolor{stringliteral}{'-\/-\/model-\/path'},\ type=str,\ help=\textcolor{stringliteral}{'model\ folder'})}
\DoxyCodeLine{00018\ \ \ \ \ parser.add\_argument(\textcolor{stringliteral}{'-\/-\/output'},\ type=str,\ help=\textcolor{stringliteral}{'output\ file'})}
\DoxyCodeLine{00019\ \ \ \ \ args\ =\ parser.parse\_args()}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordflow}{return}\ args}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ }

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\Hypertarget{namespaceextract__mm__projector_a266fac3974378dbcb7a064531d1d5faa}\index{extract\_mm\_projector@{extract\_mm\_projector}!args@{args}}
\index{args@{args}!extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection{\texorpdfstring{args}{args}}
{\footnotesize\ttfamily \label{namespaceextract__mm__projector_a266fac3974378dbcb7a064531d1d5faa} 
extract\+\_\+mm\+\_\+projector.\+args = \mbox{\hyperlink{namespaceextract__mm__projector_a215dd54aa1ae8d25012b6c9410f28cc4}{parse\+\_\+args}}()}



Definition at line \mbox{\hyperlink{extract__mm__projector_8py_source_l00024}{24}} of file \mbox{\hyperlink{extract__mm__projector_8py_source}{extract\+\_\+mm\+\_\+projector.\+py}}.

\Hypertarget{namespaceextract__mm__projector_a54452b844058e75df00c04f9fb08f5ab}\index{extract\_mm\_projector@{extract\_mm\_projector}!ckpt@{ckpt}}
\index{ckpt@{ckpt}!extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection{\texorpdfstring{ckpt}{ckpt}}
{\footnotesize\ttfamily \label{namespaceextract__mm__projector_a54452b844058e75df00c04f9fb08f5ab} 
extract\+\_\+mm\+\_\+projector.\+ckpt = torch.\+load(os.\+path.\+join(args.\+model\+\_\+path, ckpt\+\_\+name), \mbox{\hyperlink{namespaceextract__mm__projector_ac70624ace4b94fba7d1b30821616a240}{map\+\_\+location}}=\textquotesingle{}cpu\textquotesingle{})}



Definition at line \mbox{\hyperlink{extract__mm__projector_8py_source_l00043}{43}} of file \mbox{\hyperlink{extract__mm__projector_8py_source}{extract\+\_\+mm\+\_\+projector.\+py}}.

\Hypertarget{namespaceextract__mm__projector_ad57b43c48fdf88565945a7c6db51147b}\index{extract\_mm\_projector@{extract\_mm\_projector}!ckpt\_to\_key@{ckpt\_to\_key}}
\index{ckpt\_to\_key@{ckpt\_to\_key}!extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection{\texorpdfstring{ckpt\_to\_key}{ckpt\_to\_key}}
{\footnotesize\ttfamily \label{namespaceextract__mm__projector_ad57b43c48fdf88565945a7c6db51147b} 
extract\+\_\+mm\+\_\+projector.\+ckpt\+\_\+to\+\_\+key = defaultdict(list)}



Definition at line \mbox{\hyperlink{extract__mm__projector_8py_source_l00027}{27}} of file \mbox{\hyperlink{extract__mm__projector_8py_source}{extract\+\_\+mm\+\_\+projector.\+py}}.

\Hypertarget{namespaceextract__mm__projector_a03fd68062ff9f1c13f5f0a5d045b7f40}\index{extract\_mm\_projector@{extract\_mm\_projector}!keys\_to\_match@{keys\_to\_match}}
\index{keys\_to\_match@{keys\_to\_match}!extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection{\texorpdfstring{keys\_to\_match}{keys\_to\_match}}
{\footnotesize\ttfamily \label{namespaceextract__mm__projector_a03fd68062ff9f1c13f5f0a5d045b7f40} 
list extract\+\_\+mm\+\_\+projector.\+keys\+\_\+to\+\_\+match = \mbox{[}\textquotesingle{}mm\+\_\+projector\textquotesingle{}\mbox{]}}



Definition at line \mbox{\hyperlink{extract__mm__projector_8py_source_l00026}{26}} of file \mbox{\hyperlink{extract__mm__projector_8py_source}{extract\+\_\+mm\+\_\+projector.\+py}}.

\Hypertarget{namespaceextract__mm__projector_a25dd7a2db299b71b3211523925afafe1}\index{extract\_mm\_projector@{extract\_mm\_projector}!loaded\_weights@{loaded\_weights}}
\index{loaded\_weights@{loaded\_weights}!extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection{\texorpdfstring{loaded\_weights}{loaded\_weights}}
{\footnotesize\ttfamily \label{namespaceextract__mm__projector_a25dd7a2db299b71b3211523925afafe1} 
dict extract\+\_\+mm\+\_\+projector.\+loaded\+\_\+weights = \{\}}



Definition at line \mbox{\hyperlink{extract__mm__projector_8py_source_l00040}{40}} of file \mbox{\hyperlink{extract__mm__projector_8py_source}{extract\+\_\+mm\+\_\+projector.\+py}}.

\Hypertarget{namespaceextract__mm__projector_ac70624ace4b94fba7d1b30821616a240}\index{extract\_mm\_projector@{extract\_mm\_projector}!map\_location@{map\_location}}
\index{map\_location@{map\_location}!extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection{\texorpdfstring{map\_location}{map\_location}}
{\footnotesize\ttfamily \label{namespaceextract__mm__projector_ac70624ace4b94fba7d1b30821616a240} 
extract\+\_\+mm\+\_\+projector.\+map\+\_\+location}



Definition at line \mbox{\hyperlink{extract__mm__projector_8py_source_l00036}{36}} of file \mbox{\hyperlink{extract__mm__projector_8py_source}{extract\+\_\+mm\+\_\+projector.\+py}}.

\Hypertarget{namespaceextract__mm__projector_a26ae4911a9eb45ceccb04093981bf7a0}\index{extract\_mm\_projector@{extract\_mm\_projector}!model\_indices@{model\_indices}}
\index{model\_indices@{model\_indices}!extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection{\texorpdfstring{model\_indices}{model\_indices}}
{\footnotesize\ttfamily \label{namespaceextract__mm__projector_a26ae4911a9eb45ceccb04093981bf7a0} 
extract\+\_\+mm\+\_\+projector.\+model\+\_\+indices = json.\+load(open(os.\+path.\+join(args.\+model\+\_\+path, \textquotesingle{}pytorch\+\_\+model.\+bin.\+index.\+json\textquotesingle{})))}



Definition at line \mbox{\hyperlink{extract__mm__projector_8py_source_l00029}{29}} of file \mbox{\hyperlink{extract__mm__projector_8py_source}{extract\+\_\+mm\+\_\+projector.\+py}}.

\Hypertarget{namespaceextract__mm__projector_a2e30138c44c9868642e07ea1aca087f1}\index{extract\_mm\_projector@{extract\_mm\_projector}!v@{v}}
\index{v@{v}!extract\_mm\_projector@{extract\_mm\_projector}}
\doxysubsubsection{\texorpdfstring{v}{v}}
{\footnotesize\ttfamily \label{namespaceextract__mm__projector_a2e30138c44c9868642e07ea1aca087f1} 
str extract\+\_\+mm\+\_\+projector.\+v = \textquotesingle{}pytorch\+\_\+model.\+bin\textquotesingle{}}



Definition at line \mbox{\hyperlink{extract__mm__projector_8py_source_l00035}{35}} of file \mbox{\hyperlink{extract__mm__projector_8py_source}{extract\+\_\+mm\+\_\+projector.\+py}}.

