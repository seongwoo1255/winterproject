\doxysection{convert\+\_\+gqa\+\_\+for\+\_\+eval.\+py}
\hypertarget{convert__gqa__for__eval_8py_source}{}\label{convert__gqa__for__eval_8py_source}\index{scripts/convert\_gqa\_for\_eval.py@{scripts/convert\_gqa\_for\_eval.py}}
\mbox{\hyperlink{convert__gqa__for__eval_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00001}\mbox{\hyperlink{namespaceconvert__gqa__for__eval}{00001}}\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00002}00002\ \textcolor{keyword}{import}\ json}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00003}00003\ \textcolor{keyword}{import}\ argparse}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00005}\mbox{\hyperlink{namespaceconvert__gqa__for__eval_a05e409b7748527f98e22b85545757fd7}{00005}}\ parser\ =\ argparse.ArgumentParser()}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00006}\mbox{\hyperlink{namespaceconvert__gqa__for__eval_a742315a39329193eb3292d25d509904d}{00006}}\ parser.add\_argument(\textcolor{stringliteral}{"{}-\/-\/src"{}},\ type=str)}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00007}00007\ parser.add\_argument(\textcolor{stringliteral}{"{}-\/-\/dst"{}},\ type=str)}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00008}\mbox{\hyperlink{namespaceconvert__gqa__for__eval_a4121cc13ef6d78d790686049e697d05d}{00008}}\ args\ =\ parser.parse\_args()}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00010}\mbox{\hyperlink{namespaceconvert__gqa__for__eval_aeedf7a57ac25988971bf7fea915795f8}{00010}}\ all\_answers\ =\ []}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00011}00011\ \textcolor{keywordflow}{for}\ line\_idx,\ line\ \textcolor{keywordflow}{in}\ enumerate(open(args.src)):}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00012}\mbox{\hyperlink{namespaceconvert__gqa__for__eval_a216fecb85f090f581c36875ff1f20451}{00012}}\ \ \ \ \ res\ =\ json.loads(line)}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00013}\mbox{\hyperlink{namespaceconvert__gqa__for__eval_ab1e139eeddc680483672118e6085a21b}{00013}}\ \ \ \ \ question\_id\ =\ res[\textcolor{stringliteral}{'question\_id'}]}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00014}\mbox{\hyperlink{namespaceconvert__gqa__for__eval_a9a97509d539f501d9244d5133fcc544e}{00014}}\ \ \ \ \ text\ =\ res[\textcolor{stringliteral}{'text'}].rstrip(\textcolor{stringliteral}{'.'}).lower()}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00015}00015\ \ \ \ \ all\_answers.append(\{\textcolor{stringliteral}{"{}questionId"{}}:\ question\_id,\ \textcolor{stringliteral}{"{}prediction"{}}:\ text\})}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00017}00017\ \textcolor{keyword}{with}\ open(args.dst,\ \textcolor{stringliteral}{'w'})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{\Hypertarget{convert__gqa__for__eval_8py_source_l00018}00018\ \ \ \ \ json.dump(all\_answers,\ f)}

\end{DoxyCode}
