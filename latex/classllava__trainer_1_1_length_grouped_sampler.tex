\doxysection{llava\+\_\+trainer.\+Length\+Grouped\+Sampler Class Reference}
\hypertarget{classllava__trainer_1_1_length_grouped_sampler}{}\label{classllava__trainer_1_1_length_grouped_sampler}\index{llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}}


Inheritance diagram for llava\+\_\+trainer.\+Length\+Grouped\+Sampler\+:
% FIG 0


Collaboration diagram for llava\+\_\+trainer.\+Length\+Grouped\+Sampler\+:
% FIG 1
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_ad74af5c61ee5c7749c8d2dbf6b2b25e9}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, int \mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_a1f3e6105b9bd5c364323be6cf8283be1}{batch\+\_\+size}}, int \mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_aaa280d1ede9160cb5e0ce0a970208d6d}{world\+\_\+size}}, Optional\mbox{[}List\mbox{[}int\mbox{]}\mbox{]} \mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_af3e1517eb90ba96b9981006d7bf6f49e}{lengths}}=None, \mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_ad17c08f1257bcd716e59b10719932f46}{generator}}=None, bool \mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_a360ec831332f7496d717eda16e49771c}{group\+\_\+by\+\_\+modality}}=False)
\item 
\mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_a42be5955f75ad62b00963766f276a86c}{\+\_\+\+\_\+len\+\_\+\+\_\+}} (self)
\item 
\mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_a2560a545056bf116399e5406508e580b}{\+\_\+\+\_\+iter\+\_\+\+\_\+}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_a1f3e6105b9bd5c364323be6cf8283be1}{batch\+\_\+size}} = batch\+\_\+size
\item 
\mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_aaa280d1ede9160cb5e0ce0a970208d6d}{world\+\_\+size}} = world\+\_\+size
\item 
\mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_af3e1517eb90ba96b9981006d7bf6f49e}{lengths}} = lengths
\item 
\mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_ad17c08f1257bcd716e59b10719932f46}{generator}} = generator
\item 
\mbox{\hyperlink{classllava__trainer_1_1_length_grouped_sampler_a360ec831332f7496d717eda16e49771c}{group\+\_\+by\+\_\+modality}} = group\+\_\+by\+\_\+modality
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Sampler that samples indices in a way that groups together features of the dataset of roughly the same length while
keeping a bit of randomness.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{llava__trainer_8py_source_l00099}{99}} of file \mbox{\hyperlink{llava__trainer_8py_source}{llava\+\_\+trainer.\+py}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classllava__trainer_1_1_length_grouped_sampler_ad74af5c61ee5c7749c8d2dbf6b2b25e9}\index{llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{classllava__trainer_1_1_length_grouped_sampler_ad74af5c61ee5c7749c8d2dbf6b2b25e9} 
llava\+\_\+trainer.\+Length\+Grouped\+Sampler.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{int}]{batch\+\_\+size}{, }\item[{int}]{world\+\_\+size}{, }\item[{Optional\mbox{[}List\mbox{[}int\mbox{]}\mbox{]} }]{lengths}{ = {\ttfamily None}, }\item[{}]{generator}{ = {\ttfamily None}, }\item[{bool }]{group\+\_\+by\+\_\+modality}{ = {\ttfamily False}}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{llava__trainer_8py_source_l00105}{105}} of file \mbox{\hyperlink{llava__trainer_8py_source}{llava\+\_\+trainer.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00112\ \ \ \ \ ):}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ lengths\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Lengths\ must\ be\ provided."{}})}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ self.batch\_size\ =\ batch\_size}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ self.world\_size\ =\ world\_size}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ self.lengths\ =\ lengths}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ self.generator\ =\ generator}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ self.group\_by\_modality\ =\ group\_by\_modality}
\DoxyCodeLine{00121\ }

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classllava__trainer_1_1_length_grouped_sampler_a2560a545056bf116399e5406508e580b}\index{llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}!\_\_iter\_\_@{\_\_iter\_\_}}
\index{\_\_iter\_\_@{\_\_iter\_\_}!llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}}
\doxysubsubsection{\texorpdfstring{\_\_iter\_\_()}{\_\_iter\_\_()}}
{\footnotesize\ttfamily \label{classllava__trainer_1_1_length_grouped_sampler_a2560a545056bf116399e5406508e580b} 
llava\+\_\+trainer.\+Length\+Grouped\+Sampler.\+\_\+\+\_\+iter\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{llava__trainer_8py_source_l00125}{125}} of file \mbox{\hyperlink{llava__trainer_8py_source}{llava\+\_\+trainer.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keyword}{def\ }\_\_iter\_\_(self):}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.group\_by\_modality:}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ indices\ =\ get\_modality\_length\_grouped\_indices(self.lengths,\ self.batch\_size,\ self.world\_size,\ generator=self.generator)}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ indices\ =\ get\_length\_grouped\_indices(self.lengths,\ self.batch\_size,\ self.world\_size,\ generator=self.generator)}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ iter(indices)}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ }

\end{DoxyCode}
Here is the call graph for this function\+:
% FIG 2
\Hypertarget{classllava__trainer_1_1_length_grouped_sampler_a42be5955f75ad62b00963766f276a86c}\index{llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}!\_\_len\_\_@{\_\_len\_\_}}
\index{\_\_len\_\_@{\_\_len\_\_}!llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}}
\doxysubsubsection{\texorpdfstring{\_\_len\_\_()}{\_\_len\_\_()}}
{\footnotesize\ttfamily \label{classllava__trainer_1_1_length_grouped_sampler_a42be5955f75ad62b00963766f276a86c} 
llava\+\_\+trainer.\+Length\+Grouped\+Sampler.\+\_\+\+\_\+len\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{llava__trainer_8py_source_l00122}{122}} of file \mbox{\hyperlink{llava__trainer_8py_source}{llava\+\_\+trainer.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{def\ }\_\_len\_\_(self):}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ len(self.lengths)}
\DoxyCodeLine{00124\ }

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{classllava__trainer_1_1_length_grouped_sampler_a1f3e6105b9bd5c364323be6cf8283be1}\index{llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}!batch\_size@{batch\_size}}
\index{batch\_size@{batch\_size}!llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}}
\doxysubsubsection{\texorpdfstring{batch\_size}{batch\_size}}
{\footnotesize\ttfamily \label{classllava__trainer_1_1_length_grouped_sampler_a1f3e6105b9bd5c364323be6cf8283be1} 
llava\+\_\+trainer.\+Length\+Grouped\+Sampler.\+batch\+\_\+size = batch\+\_\+size}



Definition at line \mbox{\hyperlink{llava__trainer_8py_source_l00116}{116}} of file \mbox{\hyperlink{llava__trainer_8py_source}{llava\+\_\+trainer.\+py}}.

\Hypertarget{classllava__trainer_1_1_length_grouped_sampler_ad17c08f1257bcd716e59b10719932f46}\index{llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}!generator@{generator}}
\index{generator@{generator}!llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}}
\doxysubsubsection{\texorpdfstring{generator}{generator}}
{\footnotesize\ttfamily \label{classllava__trainer_1_1_length_grouped_sampler_ad17c08f1257bcd716e59b10719932f46} 
llava\+\_\+trainer.\+Length\+Grouped\+Sampler.\+generator = generator}



Definition at line \mbox{\hyperlink{llava__trainer_8py_source_l00119}{119}} of file \mbox{\hyperlink{llava__trainer_8py_source}{llava\+\_\+trainer.\+py}}.

\Hypertarget{classllava__trainer_1_1_length_grouped_sampler_a360ec831332f7496d717eda16e49771c}\index{llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}!group\_by\_modality@{group\_by\_modality}}
\index{group\_by\_modality@{group\_by\_modality}!llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}}
\doxysubsubsection{\texorpdfstring{group\_by\_modality}{group\_by\_modality}}
{\footnotesize\ttfamily \label{classllava__trainer_1_1_length_grouped_sampler_a360ec831332f7496d717eda16e49771c} 
llava\+\_\+trainer.\+Length\+Grouped\+Sampler.\+group\+\_\+by\+\_\+modality = group\+\_\+by\+\_\+modality}



Definition at line \mbox{\hyperlink{llava__trainer_8py_source_l00120}{120}} of file \mbox{\hyperlink{llava__trainer_8py_source}{llava\+\_\+trainer.\+py}}.

\Hypertarget{classllava__trainer_1_1_length_grouped_sampler_af3e1517eb90ba96b9981006d7bf6f49e}\index{llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}!lengths@{lengths}}
\index{lengths@{lengths}!llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}}
\doxysubsubsection{\texorpdfstring{lengths}{lengths}}
{\footnotesize\ttfamily \label{classllava__trainer_1_1_length_grouped_sampler_af3e1517eb90ba96b9981006d7bf6f49e} 
llava\+\_\+trainer.\+Length\+Grouped\+Sampler.\+lengths = lengths}



Definition at line \mbox{\hyperlink{llava__trainer_8py_source_l00118}{118}} of file \mbox{\hyperlink{llava__trainer_8py_source}{llava\+\_\+trainer.\+py}}.

\Hypertarget{classllava__trainer_1_1_length_grouped_sampler_aaa280d1ede9160cb5e0ce0a970208d6d}\index{llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}!world\_size@{world\_size}}
\index{world\_size@{world\_size}!llava\_trainer.LengthGroupedSampler@{llava\_trainer.LengthGroupedSampler}}
\doxysubsubsection{\texorpdfstring{world\_size}{world\_size}}
{\footnotesize\ttfamily \label{classllava__trainer_1_1_length_grouped_sampler_aaa280d1ede9160cb5e0ce0a970208d6d} 
llava\+\_\+trainer.\+Length\+Grouped\+Sampler.\+world\+\_\+size = world\+\_\+size}



Definition at line \mbox{\hyperlink{llava__trainer_8py_source_l00117}{117}} of file \mbox{\hyperlink{llava__trainer_8py_source}{llava\+\_\+trainer.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
llava/train/\mbox{\hyperlink{llava__trainer_8py}{llava\+\_\+trainer.\+py}}\end{DoxyCompactItemize}
